<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Food & Beverage Booths - BundleBooth</title>
        <style>
            :root {
                --bb-blue: #333;
                --bb-red: #e74c3c;
                --bb-light: #f4f4f4;
                --bb-dark: #343a40;
                --bb-primary: #3498db;
                --bb-secondary: #666;
                --bb-green: #2ecc71;
                --bb-hover-grey: #4a5057;
                --bb-border: #e0e0e0;
            }
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                -webkit-tap-highlight-color: transparent;
            }
            body {
                font-family: Poppins, sans-serif;
                line-height: 1.5;
                color: #333;
                background-color: #fff;
                padding-bottom: 40px;
                overscroll-behavior-y: auto;
            }
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }
            h2,
            h3 {
                font-weight: 600;
                color: var(--bb-blue);
            }
            h2 {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }
            h3 {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }
            .booth-options {
                display: flex;
                justify-content: center;
                gap: 15px;
                margin-bottom: 20px;
            }
            .booth-option {
                cursor: pointer;
                padding: 8px 16px;
                border-radius: 6px;
                font-size: 0.9rem;
                font-weight: 500;
                transition: box-shadow 0.3s ease, transform 0.3s ease;
            }
            .booth-option[data-service="espresso-coffee-booth"] {
                background: #e6d9cb;
                color: #5c4033;
            }
            .booth-option[data-service="espresso-coffee-booth"].active {
                box-shadow: 0 0 8px rgba(92, 64, 51, 0.6);
                transform: scale(1.05);
            }
            .booth-option[data-service="waffle-booth"] {
                background: #fcf4e8;
                color: #7c2d12;
            }
            .booth-option[data-service="waffle-booth"].active {
                box-shadow: 0 0 8px rgba(124, 45, 18, 0.6);
                transform: scale(1.05);
            }
            .booth-option[data-service="smoothies-booth"] {
                background: #e0f7fa;
                color: #164e63;
            }
            .booth-option[data-service="smoothies-booth"].active {
                box-shadow: 0 0 8px rgba(22, 78, 99, 0.6);
                transform: scale(1.05);
            }
            .booth-grid {
                display: flex;
                overflow-x: auto;
                scroll-snap-type: x mandatory;
                scroll-behavior: smooth;
                gap: 30px;
                padding: 0 60px;
                margin-bottom: 30px;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
                user-select: none;
                touch-action: pan-x;
            }
            .booth-grid::-webkit-scrollbar {
                display: none;
            }
            .booth-container {
                flex: 0 0 calc(50% - 15px);
                min-width: calc(50% - 15px);
                background: #fff;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
                transition: transform 0.3s ease, box-shadow 0.3s ease;
                border: 1px solid var(--bb-border);
                scroll-snap-align: start;
                position: relative;
            }
            .booth-container::after {
                content: "";
                position: absolute;
                top: 0;
                right: 0;
                width: 120px;
                height: 100%;
                background: linear-gradient(to left, rgba(255, 255, 255, 0.9), transparent);
                pointer-events: none;
                opacity: 1;
                transition: opacity 0.3s ease;
            }
            .booth-container.no-fade::after {
                opacity: 0;
            }
            .booth-container:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            }
            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 300px;
                padding: 20px 0;
                background: linear-gradient(135deg, #fff 0%, #f5f6f5 100%);
            }
            .booth-image {
                width: 250px;
                height: 250px;
                object-fit: cover;
                border-radius: 50%;
                border: 5px solid #fff;
                box-shadow: 0 3px 10px rgba(192, 192, 192, 0.3);
            }
            .booth-content {
                padding: 25px;
                padding-top: 15px;
            }
            .booth-description {
                margin-bottom: 20px;
                color: #555;
                font-size: 0.95rem;
            }
            .video-link,
            .backdrop-link {
                color: var(--bb-primary);
                text-decoration: none;
                font-weight: 500;
                cursor: pointer;
            }
            .video-link:hover,
            .backdrop-link:hover {
                text-decoration: underline;
            }
            .slideshow-container {
                position: relative;
                font-family: Poppins, sans-serif;
                margin-top: 20px;
                touch-action: auto;
            }
            .slideshow-header {
                font-size: 1.1rem;
                font-weight: 500;
                color: var(--bb-blue);
                margin-bottom: 10px;
            }
            .slide {
                position: relative;
                background: #fff;
                border: 1px solid #ddd;
                border-radius: 12px;
                padding: 18px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.06);
                opacity: 0;
                transform: translateY(20px);
                animation: fadeInUp 0.6s forwards;
                cursor: pointer;
                transition: transform 0.2s, box-shadow 0.2s;
                display: none;
            }
            .slide.active {
                display: block;
            }
            .slide:active {
                transform: scale(0.98);
            }
            @keyframes fadeInUp {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            .slide h4 {
                margin: 0;
                color: var(--bb-blue);
                font-size: 1.1rem;
                line-height: 1.3;
                display: inline-block;
                vertical-align: middle;
                padding-right: 30px;
            }
            .sale-tag {
                font-size: 0.6rem;
                color: var(--bb-red);
                vertical-align: super;
                font-weight: 600;
                margin-left: 4px;
                text-transform: uppercase;
            }
            .new-tag {
                font-size: 0.6rem;
                color: var(--bb-red);
                vertical-align: super;
                font-weight: 600;
                margin-left: 4px;
                text-transform: uppercase;
            }
            .slide p {
                margin: 0;
                font-size: 0.9rem;
                color: #555;
            }
            .slide p.description {
                margin: 0;
                font-size: 0.9rem;
                color: #555;
            }
            .price {
                font-size: 1rem;
            }
            .price.no-sale {
                font-weight: 400;
                color: var(--bb-dark);
            }
            .price.sale {
                color: var(--bb-green);
                font-weight: 600;
            }
            .original-price {
                text-decoration: line-through;
                color: var(--bb-secondary);
                font-size: 0.9rem;
                margin-left: 5px;
            }
            .discount {
                color: var(--bb-red);
                font-weight: 600;
                font-size: 0.9rem;
                margin-left: 5px;
            }
            .book-now-button {
                display: inline-block;
                margin-top: 12px;
                padding: 10px 16px;
                background: rgba(44, 62, 80, 0.1);
                color: var(--bb-blue);
                font-weight: 400;
                border-radius: 6px;
                text-decoration: none;
                font-size: 14px;
                border: none;
                cursor: pointer;
                width: 100%;
                text-align: center;
                transition: all 0.25s;
                touch-action: auto;
            }
            .book-now-button:hover,
            .book-now-button:focus {
                background: var(--bb-hover-grey);
                color: #fff;
                transform: translateY(-2px);
                outline: none;
            }
            .book-now-button:active {
                background: var(--bb-dark);
                color: #fff;
                transform: translateY(0);
            }
            .browse-more-button {
                display: inline-block;
                margin-top: 12px;
                padding: 10px 20px;
                background: rgba(44, 62, 80, 0.1);
                color: var(--bb-blue);
                font-weight: 500;
                border-radius: 6px;
                text-decoration: none;
                font-size: 14px;
                transition: all 0.25s;
                border: none;
                cursor: pointer;
                touch-action: auto;
            }
            .browse-more-button:hover {
                background: var(--bb-hover-grey);
                color: #fff;
                transform: translateY(-2px);
            }
            .browse-more-button:active {
                background: var(--bb-dark);
                color: #fff;
                transform: translateY(0);
            }
            .book-now-wrapper {
                text-align: center;
                margin-top: 12px;
            }
            .slideshow-controls {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 10px;
                margin-top: 15px;
                touch-action: auto;
            }
            .slideshow-button {
                background: #fff;
                border: 1px solid var(--bb-border);
                border-radius: 50%;
                width: 36px;
                height: 36px;
                cursor: pointer;
                transition: all 0.25s;
                display: flex;
                align-items: center;
                justify-content: center;
                touch-action: auto;
            }
            .slideshow-button:hover {
                background: #f5f5f5;
                transform: scale(1.1);
            }
            .slideshow-button:disabled {
                opacity: 0.5;
                cursor: not-allowed;
                transform: none;
            }
            .slide-indicator {
                font-size: 14px;
                color: var(--bb-dark);
                min-width: 60px;
                text-align: center;
            }
            .package-type-tag {
                display: inline-block;
                background: #e8f4fc;
                color: var(--bb-blue);
                padding: 3px 8px;
                border-radius: 4px;
                font-size: 0.8em;
                font-weight: 500;
                margin-right: 5px;
            }
            .bundled-tag {
                background: #e8fce8;
                color: #2e7d32;
                padding: 3px 8px;
                border-radius: 4px;
                font-size: 0.8em;
                font-weight: 500;
                display: inline-block;
                margin-right: 5px;
            }
            .equipment-tags {
                display: flex;
                flex-wrap: wrap;
                gap: 6px;
                margin: 0;
            }
            .equipment-tag-espresso-coffee-booth {
                display: inline-block;
                background: #e6d9cb;
                color: #5c4033;
                padding: 3px 8px;
                border-radius: 4px;
                margin: 3px;
                font-size: 14px;
                font-weight: 400;
            }
            .equipment-tag-espresso-coffee-booth:hover {
                transform: translateY(-2px);
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .equipment-tag-waffle-booth {
                display: inline-block;
                background: #fcf4e8;
                color: #7c2d12;
                padding: 3px 8px;
                border-radius: 4px;
                margin: 3px;
                font-size: 14px;
                font-weight: 400;
            }
            .equipment-tag-waffle-booth:hover {
                transform: translateY(-2px);
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .equipment-tag-smoothies-booth {
                display: inline-block;
                background: #fce7f3;
                color: #831843;
                padding: 3px 8px;
                border-radius: 4px;
                margin: 3px;
                font-size: 14px;
                font-weight: 400;
            }
            .equipment-tag-smoothies-booth:hover {
                transform: translateY(-2px);
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .loading {
                text-align: center;
                padding: 20px;
                color: var(--bb-secondary);
                font-style: italic;
            }
            .error-message {
                color: var(--bb-red);
                text-align: center;
                padding: 20px;
                font-weight: 500;
            }
            .package-details {
                margin: 10px 0;
            }
            .package-details p {
                margin: 5px 0;
                font-size: 0.9rem;
            }
            .price-container {
                display: flex;
                align-items: center;
                gap: 5px;
                flex-wrap: nowrap;
                white-space: nowrap;
                margin-bottom: 10px;
            }
            .slideshow-note {
                font-family: Poppins, sans-serif;
                font-size: 0.8rem;
                color: var(--bb-secondary);
                text-align: center;
                margin: 10px 0;
            }
            .share-button {
                position: absolute;
                top: 10px;
                right: 10px;
                background: transparent;
                border: none;
                cursor: pointer;
                padding: 8px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.25s;
            }
            .share-button:hover {
                background: var(--bb-hover-grey);
                border-radius: 6px;
            }
            .share-button:active {
                background: var(--bb-dark);
            }
            .share-button svg {
                width: 20px;
                height: 20px;
                fill: var(--bb-blue);
            }
            .share-button:hover svg {
                fill: #fff;
            }
            .share-button:active svg {
                fill: #fff;
            }
            .share-button .tooltip {
                visibility: hidden;
                background: var(--bb-dark);
                color: #fff;
                text-align: center;
                border-radius: 6px;
                padding: 5px 8px;
                position: absolute;
                z-index: 11;
                top: 100%;
                right: 50%;
                transform: translateX(50%);
                font-size: 12px;
                opacity: 0;
                transition: opacity 0.2s;
                white-space: nowrap;
                margin-top: 4px;
            }
            .share-button:hover .tooltip {
                visibility: visible;
                opacity: 1;
            }

            /* New styles for features display */
            .features-container {
                background: #fff;
                border: 1px solid #eee;
                border-radius: 8px;
                padding: 15px;
                margin-top: 15px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            }

            .features-title {
                font-size: 1rem;
                font-weight: 600;
                color: var(--bb-blue);
                margin-bottom: 10px;
            }

            .features-list {
                padding-left: 20px;
                margin: 0;
            }

            .features-list li {
                margin-bottom: 6px;
                font-size: 0.9rem;
                color: #555;
                line-height: 1.4;
            }

            .package-details {
                margin: 12px 0;
                padding-bottom: 12px;
                border-bottom: 1px solid #eee;
            }

            .package-details p {
                margin: 6px 0;
                font-size: 0.9rem;
                color: #555;
            }

            .package-details strong {
                color: var(--bb-blue);
                font-weight: 600;
            }

            @media (max-width: 900px) {
                .booth-options {
                    display: none;
                }
                .booth-grid {
                    display: grid;
                    grid-template-columns: 1fr;
                    grid-template-rows: auto;
                    gap: 30px;
                    padding: 0;
                    overflow-x: hidden;
                    scroll-snap-type: none;
                    touch-action: auto;
                }
                .booth-container {
                    min-width: 100%;
                    max-width: 100%;
                }
                .booth-container::after {
                    display: none;
                }
            }
            @media (max-width: 600px) {
                .booth-content {
                    padding: 16px;
                }
                h2 {
                    font-size: 1.5rem;
                }
                .booth-description {
                    font-size: 0.9rem;
                }
                .slide h4 {
                    font-size: 1rem;
                }
                .slide p {
                    font-size: 0.85rem;
                    margin: 0;
                }
                .image-container {
                    height: 250px;
                }
                .booth-image {
                    width: 200px;
                    height: 200px;
                }
                .slide {
                    padding: 16px;
                }
                .package-type-tag,
                .bundled-tag {
                    font-size: 11px;
                    margin-right: 5px;
                }
                .equipment-tag-espresso-coffee-booth,
                .equipment-tag-waffle-booth,
                .equipment-tag-smoothies-booth {
                    font-size: 11px;
                    padding: 3px 8px;
                }
                .sale-tag,
                .new-tag {
                    font-size: 0.5rem;
                }
                .book-now-button {
                    margin-top: 12px;
                }
                .share-button {
                    top: 6px;
                    right: 6px;
                    padding: 5px;
                }
                .share-button svg {
                    width: 18px;
                    height: 18px;
                }
                .share-button .tooltip {
                    font-size: 10px;
                    padding: 3px 5px;
                }

                /* Mobile styles for features */
                .features-container {
                    padding: 12px;
                }

                .features-title {
                    font-size: 0.95rem;
                }

                .features-list li {
                    font-size: 0.85rem;
                }
            }
        </style>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
        <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
        <script type="text/javascript">
            (function (C, A, L) {
                let p = function (a, ar) {
                    a.q.push(ar);
                };
                let d = C.document;
                C.Cal =
                    C.Cal ||
                    function () {
                        let cal = C.Cal;
                        let ar = arguments;
                        if (!cal.loaded) {
                            cal.ns = {};
                            cal.q = cal.q || [];
                            d.head.appendChild(d.createElement("script")).src = A;
                            cal.loaded = true;
                        }
                        if (ar[0] === L) {
                            const api = function () {
                                p(api, arguments);
                            };
                            const namespace = ar[1];
                            api.q = api.q || [];
                            if (typeof namespace === "string") {
                                cal.ns[namespace] = cal.ns[namespace] || api;
                                p(cal.ns[namespace], ar);
                                p(cal, ["initNamespace", namespace]);
                            } else p(cal, ar);
                            return;
                        }
                        p(cal, ar);
                    };
            })(window, "https://app.cal.com/embed/embed.js", "init");
        </script>
    </head>
    <body>
        <div class="container">
            <div class="booth-options">
                <div class="booth-option active" data-booth="0" data-service="espresso-coffee-booth">Espresso & Coffee</div>
                <div class="booth-option" data-booth="1" data-service="waffle-booth">Waffle Booth</div>
                <div class="booth-option" data-booth="2" data-service="smoothies-booth">Smoothie Booth</div>
            </div>
            <div class="booth-grid">
                <div class="booth-container">
                    <div class="image-container">
                        <img src="https://img1.wsimg.com/isteam/getty/1442830067" alt="Espresso & Coffee Booth" class="booth-image" />
                    </div>
                    <div class="booth-content">
                        <h2>☕ Espresso & Coffee Booth</h2>
                        <p class="booth-description">
                            Bring the café experience to your event with our stylish espresso booth! We serve fresh, barista-crafted drinks including espressos, lattes, cappuccinos, and more—made with premium beans and customizable to your guests' tastes. Perfect for weddings, corporate events, and private parties, our booth adds a touch of class and energy to any occasion. Fast service, friendly baristas, and a setup that looks as good as it tastes.
                        </p>
                        
                        <div class="slideshow-container" id="espresso-booth-slideshow"><div class="loading">Loading Espresso & Coffee Booth features...</div></div>
                    </div>
                </div>
                <div class="booth-container">
                    <div class="image-container"><img src="https://img1.wsimg.com/isteam/getty/183864000" alt="Waffle Booth" class="booth-image" /></div>
                    <div class="booth-content">
                        <h2>🧇 Waffle Booth</h2>
                        <p class="booth-description">
                            Treat your guests to warm, freshly made waffles with our fun and flavorful Waffle Booth! Served with a variety of toppings—from fresh fruits and whipped cream to chocolate drizzle and syrups—each waffle is made to order and totally customizable. Ideal for weddings, corporate events, and parties, our booth adds a sweet, interactive touch your guests will love.
                        </p>
                        <div class="slideshow-container" id="waffle-booth-slideshow"><div class="loading">Loading Waffle Booth features...</div></div>
                    </div>
                </div>
                <div class="booth-container">
                    <div class="image-container"><img src="https://img1.wsimg.com/isteam/getty/2151952976" alt="Smoothie Booth" class="booth-image" /></div>
                    <div class="booth-content">
                        <h2>🥤 Smoothie Booth</h2>
                        <p class="booth-description">
                            Add a fresh, healthy twist to your event with our vibrant Smoothie Booth! We blend delicious, made-to-order smoothies using real fruits, natural ingredients, and a variety of add-ins like protein, chia seeds, and plant-based milks. Perfect for wellness events, summer parties, and corporate gatherings, our booth brings flavor, fun, and a boost of energy to any crowd.
                        </p>
                        <div class="slideshow-container" id="smoothie-booth-slideshow"><div class="loading">Loading Smoothie Booth features...</div></div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                console.log("Page loaded at:", new Date().toISOString());
                const dataSource = "https://raw.githubusercontent.com/bundlebooth/bdb-1.0/main/packages.json";
                const fallbackPackages = [
                    {
                        name: "Espresso & Coffee Booth Package",
                        equipment: ["Espresso & Coffee Booth"],
                        packageType: "Individual",
                        price: 400,
                        description: "A premium coffee experience with barista-crafted drinks.",
                        guests: 50,
                        maxDuration: 2,
                        slug: "espresso-coffee-booth",
                        Sale: "N",
                        New: "Y",
                        features: [
                            "Professional barista service",
                            "Premium espresso machine",
                            "Variety of coffee drinks (lattes, cappuccinos, americanos)",
                            "Milk alternatives (oat, almond, soy)",
                            "Custom branded cups",
                            "Sugar and sweetener station",
                            "Up to 2 hours of service",
                            "Serves up to 50 guests"
                        ]
                    },
                    {
                        name: "Waffle Booth Package",
                        equipment: ["Waffle Booth"],
                        packageType: "Individual",
                        price: 350,
                        originalPrice: 450,
                        description: "Customizable waffles with a variety of toppings.",
                        guests: 60,
                        maxDuration: 2,
                        slug: "waffle-booth",
                        Sale: "Y",
                        New: "N",
                        features: [
                            "Freshly made waffles on demand",
                            "Variety of toppings (fruits, syrups, whipped cream)",
                            "Professional waffle maker",
                            "Custom branded serving plates",
                            "Up to 2 hours of service",
                            "Serves up to 60 guests",
                            "Vegetarian and vegan options available",
                            "Allergy-friendly options"
                        ]
                    },
                    {
                        name: "Smoothie Booth Package",
                        equipment: ["Smoothies Booth"],
                        packageType: "Individual",
                        price: 300,
                        description: "Fresh, made-to-order smoothies with natural ingredients.",
                        guests: 70,
                        maxDuration: 2,
                        slug: "smoothies-booth",
                        Sale: "N",
                        New: "Y",
                        features: [
                            "Made-to-order smoothies",
                            "Variety of fruits and bases",
                            "Protein and superfood add-ins",
                            "Professional blender setup",
                            "Custom branded cups",
                            "Up to 2 hours of service",
                            "Serves up to 70 guests",
                            "Vegan and dairy-free options"
                        ]
                    }
                ];
                fallbackPackages.forEach((pkg) => {
                    const slug = pkg.slug || `fallback-${pkg.name.toLowerCase().replace(/\s+/g, "-")}`;
                    const namespace = slug;
                    Cal("init", namespace, { origin: "https://app.cal.com" });
                    Cal.ns[namespace]("ui", { hideEventTypeDetails: false, layout: "month_view" });
                });
                const boothGrid = document.querySelector(".booth-grid");
                const boothOptions = document.querySelectorAll(".booth-option");
                const boothContainers = document.querySelectorAll(".booth-container");
                const slideshowControls = document.querySelectorAll(".slideshow-controls");
                let isDragging = false;
                let startX,
                    startY,
                    scrollLeft,
                    velocity = 0,
                    lastTime = 0,
                    lastX;
                function startDrag(e) {
                    if (window.innerWidth <= 900) return;
                    isDragging = true;
                    boothGrid.style.cursor = "grabbing";
                    startX = (e.type === "touchstart" ? e.touches[0].pageX : e.pageX) - boothGrid.offsetLeft;
                    startY = e.type === "touchstart" ? e.touches[0].pageY : e.pageY;
                    scrollLeft = boothGrid.scrollLeft;
                    velocity = 0;
                    lastTime = Date.now();
                    lastX = startX;
                    cancelMomentum();
                }
                function drag(e) {
                    if (!isDragging) return;
                    const x = (e.type === "touchmove" ? e.touches[0].pageX : e.pageX) - boothGrid.offsetLeft;
                    const y = e.type === "touchmove" ? e.touches[0].pageY : e.pageY;
                    const deltaX = Math.abs(x - startX);
                    const deltaY = Math.abs(y - startY);
                    if (deltaY > deltaX && e.type === "touchmove") {
                        isDragging = false;
                        return;
                    }
                    e.preventDefault();
                    const walk = (x - startX) * 1.5;
                    boothGrid.scrollLeft = scrollLeft - walk;
                    const now = Date.now();
                    const deltaTime = now - lastTime;
                    if (deltaTime > 0) {
                        velocity = (x - lastX) / deltaTime;
                        lastX = x;
                        lastTime = now;
                    }
                }
                function endDrag() {
                    if (!isDragging) return;
                    isDragging = false;
                    boothGrid.style.cursor = "grab";
                    applyMomentum();
                    updateActiveOption();
                }
                let momentumId;
                function applyMomentum() {
                    if (Math.abs(velocity) < 0.1) return;
                    let currentScroll = boothGrid.scrollLeft;
                    const momentum = velocity * 1000;
                    function animate() {
                        currentScroll -= velocity * 16;
                        boothGrid.scrollLeft = currentScroll;
                        velocity *= 0.95;
                        if (Math.abs(velocity) > 0.01) {
                            momentumId = requestAnimationFrame(animate);
                        } else {
                            snapToNearest();
                        }
                    }
                    momentumId = requestAnimationFrame(animate);
                }
                function cancelMomentum() {
                    if (momentumId) {
                        cancelAnimationFrame(momentumId);
                        momentumId = null;
                    }
                }
                function snapToNearest() {
                    const scrollLeft = boothGrid.scrollLeft;
                    const containerWidth = boothContainers[0].offsetWidth + 30;
                    const index = Math.round(scrollLeft / containerWidth);
                    boothGrid.scrollTo({ left: index * containerWidth, behavior: "smooth" });
                    updateActiveOption();
                }
                function updateFadeEffect() {
                    if (window.innerWidth > 900) {
                        const gridRect = boothGrid.getBoundingClientRect();
                        boothContainers.forEach((container, index) => {
                            const rect = container.getBoundingClientRect();
                            const isFullyVisible = rect.left >= gridRect.left && rect.right <= gridRect.right;
                            container.classList.toggle("no-fade", isFullyVisible);
                            if (index === boothContainers.length - 1 && isFullyVisible) {
                                container.classList.add("no-fade");
                            }
                        });
                    }
                }
                function updateActiveOption() {
                    if (window.innerWidth <= 900) return;
                    const scrollLeft = boothGrid.scrollLeft;
                    const containerWidth = boothContainers[0].offsetWidth + 30;
                    const index = Math.round(scrollLeft / containerWidth);
                    boothOptions.forEach((option) => option.classList.remove("active"));
                    if (boothOptions[index]) {
                        boothOptions[index].classList.add("active");
                    }
                }
                function scrollToBooth(index) {
                    if (window.innerWidth <= 900) return;
                    const booth = boothContainers[index];
                    boothGrid.scrollTo({ left: booth.offsetLeft - 30, behavior: "smooth" });
                    boothOptions.forEach((option) => option.classList.remove("active"));
                    boothOptions[index].classList.add("active");
                }
                boothOptions.forEach((option, index) => {
                    option.addEventListener("click", () => {
                        scrollToBooth(index);
                    });
                });
                boothGrid.addEventListener("mousedown", startDrag);
                boothGrid.addEventListener("mousemove", drag);
                boothGrid.addEventListener("mouseup", endDrag);
                boothGrid.addEventListener("mouseleave", endDrag);
                boothGrid.addEventListener("touchstart", startDrag, { passive: false });
                boothGrid.addEventListener("touchmove", drag, { passive: false });
                boothGrid.addEventListener("touchend", endDrag);
                boothGrid.addEventListener("scroll", () => {
                    updateFadeEffect();
                    updateActiveOption();
                });
                window.addEventListener("resize", updateFadeEffect);
                slideshowControls.forEach((control) => {
                    control.addEventListener(
                        "touchstart",
                        (e) => {
                            startY = e.touches[0].pageY;
                        },
                        { passive: true }
                    );
                    control.addEventListener(
                        "touchmove",
                        (e) => {
                            const y = e.touches[0].pageY;
                            const deltaY = Math.abs(y - startY);
                            if (deltaY > 10) {
                                e.stopPropagation();
                            }
                        },
                        { passive: false }
                    );
                });
                if (window.innerWidth > 900) {
                    boothGrid.style.cursor = "grab";
                    boothOptions[0].classList.add("active");
                    updateFadeEffect();
                }

                // Load services data with pricing information
                fetch("https://bundlebooth.github.io/bdb-2.0/data/individual-services.json")
                    .then((response) => {
                        if (!response.ok) throw new Error("Failed to fetch services");
                        return response.json();
                    })
                    .then((servicesData) => {
                        // Espresso Booth
                        const espressoService = servicesData.find(s => s.name.toLowerCase().includes("espresso") || s.name.toLowerCase().includes("coffee"));
                        renderServiceFeatures("espresso-booth-slideshow", espressoService);

                        // Waffle Booth
                        const waffleService = servicesData.find(s => s.name.toLowerCase().includes("waffle"));
                        renderServiceFeatures("waffle-booth-slideshow", waffleService);

                        // Smoothie Booth
                        const smoothieService = servicesData.find(s => s.name.toLowerCase().includes("smoothie"));
                        renderServiceFeatures("smoothie-booth-slideshow", smoothieService);
                    })
                    .catch((error) => {
                        console.error("Error loading services:", error);
                        // Fallback to the previous features data if this fetch fails
                        fetch("https://bundlebooth.github.io/bdb-2.0/data/features-included.json")
                            .then(response => response.json())
                            .then(featuresData => renderFeatures(featuresData))
                            .catch(() => {
                                // Ultimate fallback to hardcoded features
                                const fallbackFeatures = {
                                    "espresso-coffee-booth": {
                                        features: [
                                            "Professional barista service",
                                            "Premium espresso machine",
                                            "Variety of coffee drinks (lattes, cappuccinos, americanos)",
                                            "Milk alternatives (oat, almond, soy)",
                                            "Custom branded cups",
                                            "Sugar and sweetener station",
                                            "Up to 2 hours of service",
                                            "Serves up to 50 guests"
                                        ],
                                    },
                                    "waffle-booth": {
                                        features: [
                                            "Freshly made waffles on demand",
                                            "Variety of toppings (fruits, syrups, whipped cream)",
                                            "Professional waffle maker",
                                            "Custom branded serving plates",
                                            "Up to 2 hours of service",
                                            "Serves up to 60 guests",
                                            "Vegetarian and vegan options available",
                                            "Allergy-friendly options"
                                        ],
                                    },
                                    "smoothies-booth": {
                                        features: [
                                            "Made-to-order smoothies",
                                            "Variety of fruits and bases",
                                            "Protein and superfood add-ins",
                                            "Professional blender setup",
                                            "Custom branded cups",
                                            "Up to 2 hours of service",
                                            "Serves up to 70 guests",
                                            "Vegan and dairy-free options"
                                        ],
                                    }
                                };
                                renderFeatures(fallbackFeatures);
                            });
                    });

                function renderFeatures(featuresData) {
                    if (featuresData["services-included"]) {
                        const services = featuresData["services-included"];

                        // Espresso Booth
                        const espressoService = services.find((s) => s.name.toLowerCase().includes("espresso") || s.name.toLowerCase().includes("coffee"));
                        renderServiceFeatures("espresso-booth-slideshow", espressoService);

                        // Waffle Booth
                        const waffleService = services.find((s) => s.name.toLowerCase().includes("waffle"));
                        renderServiceFeatures("waffle-booth-slideshow", waffleService);

                        // Smoothie Booth
                        const smoothieService = services.find((s) => s.name.toLowerCase().includes("smoothie"));
                        renderServiceFeatures("smoothie-booth-slideshow", smoothieService);

                        return;
                    }

                    // Espresso Booth features
                    const espressoContainer = document.getElementById("espresso-booth-slideshow");
                    if (featuresData["espresso-coffee-booth"] && featuresData["espresso-coffee-booth"].features) {
                        espressoContainer.innerHTML = `
                            <div class="features-container">
                                <div class="features-title">What's Included:</div>
                                <ul class="features-list">
                                    ${featuresData["espresso-coffee-booth"].features.map((feature) => `<li>${feature}</li>`).join("")}
                                </ul>
                            </div>
                            <div class="book-now-wrapper">
                                <a href="https://bundlebooth.ca/bundles" target="_blank" class="book-now-button">Book Now</a>
                            </div>
                        `;
                    } else {
                        espressoContainer.innerHTML = '<div class="error-message">No features available for this service</div>';
                    }

                    // Waffle Booth features
                    const waffleContainer = document.getElementById("waffle-booth-slideshow");
                    if (featuresData["waffle-booth"] && featuresData["waffle-booth"].features) {
                        waffleContainer.innerHTML = `
                            <div class="features-container">
                                <div class="features-title">What's Included:</div>
                                <ul class="features-list">
                                    ${featuresData["waffle-booth"].features.map((feature) => `<li>${feature}</li>`).join("")}
                                </ul>
                            </div>
                            <div class="book-now-wrapper">
                                <a href="https://bundlebooth.ca/bundles" target="_blank" class="book-now-button">Book Now</a>
                            </div>
                        `;
                    } else {
                        waffleContainer.innerHTML = '<div class="error-message">No features available for this service</div>';
                    }

                    // Smoothie Booth features
                    const smoothieContainer = document.getElementById("smoothie-booth-slideshow");
                    if (featuresData["smoothies-booth"] && featuresData["smoothies-booth"].features) {
                        smoothieContainer.innerHTML = `
                            <div class="features-container">
                                <div class="features-title">What's Included:</div>
                                <ul class="features-list">
                                    ${featuresData["smoothies-booth"].features.map((feature) => `<li>${feature}</li>`).join("")}
                                </ul>
                            </div>
                            <div class="book-now-wrapper">
                                <a href="https://bundlebooth.ca/bundles" target="_blank" class="book-now-button">Book Now</a>
                            </div>
                        `;
                    } else {
                        smoothieContainer.innerHTML = '<div class="error-message">No features available for this service</div>';
                    }
                }

                function renderServiceFeatures(containerId, service) {
                    const container = document.getElementById(containerId);
                    if (!service) {
                        container.innerHTML = '<div class="error-message">No features available for this service</div>';
                        return;
                    }

                    // Create price display with sale information if applicable
                    let priceDisplay = '';
                    if (service.price) {
                        priceDisplay = `
                            <div class="price-container">
                                <span class="price ${service.Sale === 'Y' ? 'sale' : 'no-sale'}">
                                    $${service.price} ${service.currency || 'CAD'}
                                    ${service.Sale === 'Y' ? '<span class="sale-tag">Sale</span>' : ''}
                                    ${service.New === 'Y' ? '<span class="new-tag">New</span>' : ''}
                                </span>
                                ${service.basePrice && service.basePrice > service.price ? 
                                  `<span class="original-price">$${service.basePrice}</span>` : ''}
                            </div>
                        `;
                    }

                    // Create duration display if available
                    let durationDisplay = '';
                    if (service.duration) {
                        durationDisplay = `
                            <div class="package-details">
                                <p><strong>Duration:</strong> ${service.duration} hours</p>
                            </div>
                        `;
                    }

                    // Create pricing tiers display if available
                    let pricingTiersDisplay = '';
                    if (service.pricingTiers && service.pricingTiers.length > 0) {
                        pricingTiersDisplay = `
                            <div class="package-details">
                                <p><strong>Options:</strong></p>
                                <ul class="features-list">
                                    ${service.pricingTiers.map(tier => 
                                        `<li>${tier.label}: $${tier.price} ${service.currency || 'CAD'}</li>`
                                    ).join('')}
                                </ul>
                            </div>
                        `;
                    }

                    // Combine all the information
                    container.innerHTML = `
                        <div class="features-container">
                            ${priceDisplay}
                            ${durationDisplay}
                            ${pricingTiersDisplay}
                            <div class="features-title">What's Included:</div>
                            <ul class="features-list">
                                ${service.features ? service.features.map(feature => `<li>${feature}</li>`).join('') : fallbackPackages.find(pkg => containerId.includes(pkg.slug))?.features.map(feature => `<li>${feature}</li>`).join('') || '<li>No features listed</li>'}
                            </ul>
                        </div>
                        <div class="book-now-wrapper">
                            <a href="https://bundlebooth.ca/bundles" target="_blank" class="book-now-button">Book Now</a>
                        </div>
                    `;
                }
            });
        </script>
    </body>
</html>
