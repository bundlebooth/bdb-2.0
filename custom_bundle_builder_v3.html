<!DOCTYPE html>

<html lang="en"><head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1,maximum-scale=0,user-scalable=no" name="viewport"/><title>BundleBooth Packages</title><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&amp;display=swap" rel="stylesheet"/><script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script><script type="text/javascript">(function(e,t,n){let p=function(t,r){t.q.push(r)};let d=e.document;e.Cal=e.Cal||function(){let t=e.Cal;let r=arguments;if(!t.loaded){t.ns={};t.q=t.q||[];d.head.appendChild(d.createElement("script")).src=t;t.loaded=true}if(r[0]===n){const i=function(){p(i,arguments)};const s=r[1];i.q=i.q||[];typeof s==="string"?(t.ns[s]=t.ns[s]||i):p(t,r);p(t.ns[s],r);p(t,["initNamespace",s])}else p(t,r)})(window,"https://app.cal.com/embed/embed.js","init");</script><style>:root{--bb-blue:#333;--bb-red:#e74c3c;--bb-light:#f4f4f4;--bb-dark:#343a40;--tag-blue:#3498db;--tag-green:#2ecc71;--bb-green:#2ecc71;--bb-secondary:#666;--bb-hover-grey:#4a5057;--bb-accent:#3498db;--bb-table-header:#e8ecef;--bb-compare-button:#d3d3d3}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}body{margin:0;font-family:Poppins,sans-serif;background:var(--bb-light);color:var(--bb-dark);line-height:1.5}.container{display:flex;min-height:100vh;flex-wrap:nowrap}aside{width:280px;background:#fff;border-right:1px solid #ddd;padding:24px 20px;overflow-y:auto;transition:transform .3s ease}main{flex:1;padding:24px 20px;overflow-y:auto;background:var(--bb-light);position:relative}#filters-horizontal{display:none;flex-wrap:wrap;gap:12px;align-items:flex-end;margin-bottom:24px;padding-bottom:8px}#filters-horizontal > div{display:flex;flex-direction:column;min-width:120px;flex-grow:1}#filters-horizontal label{font-weight:500;margin-bottom:6px;font-size:13px;color:#555}.mobile-only-filters{display:block}.filter-section{margin-bottom:20px}.filter-header{display:flex;align-items:center;justify-content:space-between;cursor:pointer;user-select:none;padding:8px 0}.filter-header h3{margin:0;color:var(--bb-blue);font-size:1.1rem}.toggle-icon{font-size:1rem;transition:transform .3s;width:16px;text-align:center}.toggle-icon.collapsed::before{content:"+"}.toggle-icon:not(.collapsed)::before{content:"−"}.filter-content{max-height:500px;overflow:hidden;transition:max-height .3s ease-out}.filter-content.collapsed{max-height:0}#equipment-filters:not(.collapsed){max-height:none;overflow:visible}.filter-content label{display:flex;align-items:flex-start;gap:10px;margin-bottom:12px;cursor:pointer;font-size:14px;padding:4px 0}.filter-content label input[type="checkbox"]{appearance:none;border:2px solid var(--bb-blue);border-radius:4px;width:18px;height:18px;border:2px solid var(--bb-blue);position:relative;flex-shrink:0;margin-top:3px}.filter-content label input[type="checkbox"]:checked{background:var(--bb-blue)}.filter-content label input[type="checkbox"]:checked::after{content:"";position:absolute;inset:4px;background:#fff;border-radius:2px}.filter-content label .tag{display:inline-block;margin-left:5px;vertical-align:middle}.filter-content label .new-tag,.filter-content label .sale-tag{font-size:.6rem;color:var(--bb-red);font-weight:600;text-transform:uppercase;margin-left:4px;position:relative;top:-2px}#filters-horizontal input[type="number"],#filters-horizontal select,.filter-content input[type="number"],.filter-content select{padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:100%;background:#fff;-webkit-appearance:none;margin-bottom:12px}input[type="number"]{-moz-appearance:textfield}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}#packages-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}.package{position:relative;position:relative;background:#fff;border:1px solid #ddd;border-radius:12px;padding:18px;box-shadow:0 4px 8px rgba(0,0,0,.06);opacity:0;transform:translateY(20px);animation:fadeInUp .6s forwards;cursor:pointer;transition:transform .2s,box-shadow .2s,background-color .2s,border-color .2s;display:flex;flex-direction:column;min-height:100%}.package.selected{background-color:rgba(52,152,219,.1);border-color:var(--bb-accent)}.package:hover{box-shadow:0 6px 12px rgba(0,0,0,.1);transform:translateY(-2px)}.package:active{transform:scale(.98)}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}.package h3{margin:0;color:var(--bb-blue);font-size:1.1rem;line-height:1.3;display:inline-block;vertical-align:middle;padding-right:30px}.package p.description{margin:0;font-size:.9rem;color:#555}.package p{margin:0}.price{font-size:1rem}.price.sale{color:var(--bb-green);font-weight:600}.price.no-sale{color:var(--bb-dark);font-weight:400}.discount{color:var(--bb-red);font-weight:600;font-size:.9rem;margin-left:5px}.original-price{text-decoration:line-through;color:var(--bb-secondary);font-size:.9rem;margin-left:5px}.apply-filters-button,.book-now-button{display:inline-block;margin-top:12px;padding:10px 16px;background:rgba(44,62,80,.1);color:var(--bb-blue);font-weight:400;border-radius:6px;text-decoration:none;transition:all .25s;font-size:14px;border:none;cursor:pointer;width:100%;text-align:center}.apply-filters-button:focus,.apply-filters-button:hover,.book-now-button:focus,.book-now-button:hover{background:var(--bb-hover-grey);color:#fff;outline:0;transform:translateY(-2px)}.apply-filters-button:active,.book-now-button:active{background:var(--bb-dark);color:#fff;transform:translateY(0)}.share-button{position:absolute;top:12px;right:12px;padding:8px;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .25s}.share-button:hover{background:var(--bb-hover-grey);border-radius:6px}.share-button:active{background:var(--bb-dark)}.share-button svg{width:20px;height:20px;fill:var(--bb-blue)}.share-button:hover svg{fill:#fff}.share-button:active svg{fill:#fff}.share-button .tooltip{visibility:hidden;background:var(--bb-dark);color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;z-index:1;top:100%;right:50%;transform:translateX(50%);font-size:12px;opacity:0;transition:opacity .2s;white-space:nowrap}.share-button:hover .tooltip{visibility:visible;opacity:1}.bundled-tag{background:#e8fce8;color:#2e7d32;padding:3px 8px;border-radius:4px;font-size:.8em;font-weight:500;display:inline-block;margin-right:5px}.package-type-tag{display:inline-block;background:#e8f4fc;color:var(--bb-blue);padding:3px 8px;border-radius:4px;margin-right:5px;font-size:.8em;font-weight:500}.equipment-tags{display:flex;flex-wrap:wrap;gap:6px;margin:0}.package-note{font-size:.85rem;color:#666;margin:0;font-style:normal}.sale-tag{font-size:.6rem;color:var(--bb-red);vertical-align:super;font-weight:600;margin-left:4px;text-transform:uppercase}.new-tag{font-size:.6rem;color:var(--bb-red);vertical-align:super;font-weight:600;margin-left:4px;text-transform:uppercase}.equipment-tag-photo-booth{display:inline-block;background:#e6f0fa;color:#1e3a8a;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-360-video-booth{display:inline-block;background:#e9f7e9;color:#1a4d1a;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-waffle-booth{display:inline-block;background:#fcf4e8;color:#7c2d12;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-magazine-photo-booth-box{display:inline-block;background:#f3e8ff;color:#4c1d95;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-espresso-coffee-booth{display:inline-block;background:#e6d9cb;color:#5c4033;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-audio-guest-book{display:inline-block;background:#fce7f3;color:#831843;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-smoothies-booth{display:inline-block;background:#fce7f3;color:#831843;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-sparkler-boxes{display:inline-block;background:#fff7e0;color:#5a4a00;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-dry-ice-fog{display:inline-block;background:#e0f7fa;color:#164e63;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.equipment-tag-laser-effect-first-dance{display:inline-block;background:#e8ecef;color:#495057;padding:3px 8px;border-radius:4px;margin:3px;font-size:14px;font-weight:400}.pagination{display:flex;justify-content:center;align-items:center;gap:8px;margin:20px 0;padding:10px 0}.pagination button{width:36px;height:36px;border:1px solid #ccc;background:rgba(44,62,80,.1);color:var(--bb-blue);border-radius:6px;cursor:pointer;transition:all .25s;display:flex;align-items:center;justify-content:center;padding:0}.pagination button:hover{background:var(--bb-hover-grey);color:#fff}.pagination button:active{background:var(--bb-dark);color:#fff}.pagination button:disabled{background:#e0e0e0;color:#ccc;cursor:not-allowed}.pagination button svg{width:16px;height:16px}.pagination-label{font-size:14px;min-width:100px;text-align:center}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1000;align-items:flex-start;justify-content:center;padding:20px;opacity:0;transition:opacity .3s ease;overflow-y:auto}.modal.active{display:flex;opacity:1}.modal-content,.modal.active .modal-content,.modal.active .compare-modal-content{transform:scale(1);opacity:1;transition-delay:.1s}.modal-close{position:absolute;top:10px;right:10px;background:rgba(44,62,80,.1);border:none;font-size:1.5rem;cursor:pointer;color:var(--bb-blue);width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .25s}.modal-close:hover{background:var(--bb-hover-grey);color:#fff}.modal-close:active{background:var(--bb-dark);color:#fff}.modal-content h3{margin:0;color:var(--bb-blue);font-size:1.2rem;padding-right:20px;display:inline-block;vertical-align:middle}.modal-content p{margin:0;font-size:.95rem;color:#555}.modal-content .equipment-tags{margin:0}.modal-content .package-note{font-size:.9rem;color:#666;font-style:normal}.modal-content .book-now-button{margin-top:16px}.no-results{text-align:center;padding:40px 20px;grid-column:1/-1}.filter-results-wrapper{display:none;align-items:center;gap:12px;margin-bottom:16px}.filter-toggle-icon{display:none;width:40px;height:40px;background:transparent;border:none;cursor:pointer;padding:8px;flex-shrink:0}.filter-toggle-icon svg{width:24px;height:24px;stroke:#666}.filter-toggle-icon:focus svg,.filter-toggle-icon:hover svg{stroke:var(--bb-hover-grey)}.filter-toggle-icon:active svg{stroke:var(--bb-dark)}.results-count{background:#fff;padding:12px 16px;border-radius:8px;border:1px solid #ddd;font-size:14px;font-weight:500;color:var(--bb-dark);margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,.05)}.mobile-results-count{display:none;padding:8px 12px;font-size:13px;margin-bottom:0;flex-grow:1;text-align:center}.desktop-results-count{display:block}.package-content{flex-grow:1}.compare-message{display:none;position:absolute;bottom:100%;left:0;transform:translateY(-12px);background:#f9f9f9;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);padding:12px 20px;z-index:1050;align-items:center;gap:16px;white-space:nowrap;opacity:0;transition:opacity .5s ease-in-out,transform .3s ease;animation:fadeOut .5s forwards}.package.most-recent .compare-message{display:flex;animation:fadeIn .5s forwards;transform:translateY(-12px)}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.compare-bar-count{font-size:14px;font-weight:500;color:#333}.compare-bar-message{font-size:14px;font-weight:400;color:#333}.compare-button{display:inline-block;padding:10px 16px;background:var(--bb-compare-button);color:#333;font-weight:400;border-radius:6px;text-decoration:none;transition:all .25s;font-size:14px;border:none;cursor:pointer;text-align:center}.compare-button:hover{background:var(--bb-hover-grey);color:#fff;outline:0;transform:translateY(-2px)}.compare-button:active{background:var(--bb-dark);color:#fff;transform:translateY(0)}.compare-button:disabled{background:#e0e0e0;color:#ccc;cursor:not-allowed}.compare-clear{background:transparent;border:none;color:#333;font-size:14px;cursor:pointer;transition:color .25s}.compare-clear:hover{color:var(--bb-red)}.compare-modal-content{max-width:800px;padding:24px;overflow-x:auto;max-height:90vh}.compare-table{width:100%;border-collapse:separate;border-spacing:0;min-width:600px;background:#fff;border-radius:8px;overflow:hidden}.compare-table th{background:#e8ecef;color:#333;font-weight:600;position:sticky;top:0;z-index:1}.compare-table td{padding:16px;text-align:left;font-size:14px;border-bottom:1px solid #eee;background:#fff;vertical-align:top}.compare-table th:first-child,.compare-table td:first-child{background:#f9f9f9;font-weight:600;color:#333;position:sticky;left:0;z-index:2;min-width:150px}.compare-table .equipment-tags{flex-direction:row;flex-wrap:wrap}.compare-table .book-now-button{width:100%;padding:10px 16px;font-size:14px;margin-top:8px}@media (min-width:901px){#filters-horizontal{display:flex}.mobile-only-filters{display:none}.filter-results-wrapper{display:none}.mobile-results-count{display:none}.apply-filters-button{display:none}.share-button{position:absolute;top:12px;right:12px;padding:8px;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .25s}}@media (max-width:900px){.container{flex-direction:column;min-height:auto}aside{width:100%;border-right:none;border-bottom:1px solid #ddd;padding:16px;position:fixed;top:64px;left:0;height:calc(100% - 64px);z-index:1000;transform:translateX(-100%);max-height:none;background:#fff}aside.active{transform:translateX(0)}main{padding:64px 16px 16px}.filter-results-wrapper{display:flex;position:fixed;top:0;left:0;width:100%;background:var(--bb-light);padding:12px 16px;z-index:999;height:64px}.filter-toggle-icon{display:block}.apply-filters-button{display:block}.filter-header{padding:10px 0}.filter-header h3{font-size:1rem;color:var(--bb-dark)}.filter-content label{font-size:14px;color:var(--bb-dark)}.package{position:relative;padding:16px}.modal-content,.compare-modal-content{padding:16px}.modal-content h3,.compare-modal-content h3{color:var(--bb-dark)}.package-type-tag{color:var(--bb-dark)}.mobile-results-count{display:block}.desktop-results-count{display:none}.share-button{position:absolute;top:12px;right:12px;padding:8px;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .25s}.share-button svg{width:18px;height:18px}.compare-message{display:none;position:absolute;bottom:100%;left:0;transform:translateY(-12px);background:#f9f9f9;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);padding:12px 20px;z-index:1050;align-items:center;gap:16px;white-space:nowrap;opacity:0;transition:opacity .5s ease-in-out,transform .3s ease;animation:fadeOut .5s forwards}.compare-button{padding:6px 12px;font-size:13px}.compare-bar-count{font-size:13px}.compare-bar-message{font-size:13px}.compare-table{min-width:600px}}@media (max-width:600px){#packages-container{grid-template-columns:1fr}.package h3{font-size:1rem}.modal-content,.compare-modal-content{width:95%;padding:15px}.compare-message{display:none;position:absolute;bottom:100%;left:0;transform:translateY(-12px);background:#f9f9f9;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);padding:12px 20px;z-index:1050;align-items:center;gap:16px;white-space:nowrap;opacity:0;transition:opacity .5s ease-in-out,transform .3s ease;animation:fadeOut .5s forwards}.compare-table th,.compare-table td{font-size:13px;padding:10px}}@media (max-width:400px){.pagination-label{min-width:80px;font-size:13px}.pagination button{width:32px;height:32px}.equipment-tag-360-video-booth,.equipment-tag-audio-guest-book,.equipment-tag-dry-ice-fog,.equipment-tag-espresso-coffee-booth,.equipment-tag-laser-effect-first-dance,.equipment-tag-magazine-photo-booth-box,.equipment-tag-photo-booth,.equipment-tag-smoothies-booth,.equipment-tag-sparkler-boxes,.equipment-tag-waffle-booth,.package-type-tag{font-size:11px;padding:3px 8px}.new-tag,.sale-tag{font-size:.5rem}.filter-results-wrapper{gap:8px}.mobile-results-count{font-size:12px;padding:6px 10px}.compare-message{display:none;position:absolute;bottom:100%;left:0;transform:translateY(-12px);background:#f9f9f9;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);padding:12px 20px;z-index:1050;align-items:center;gap:16px;white-space:nowrap;opacity:0;transition:opacity .5s ease-in-out,transform .3s ease;animation:fadeOut .5s forwards}.compare-button,.compare-clear{font-size:12px}}@media (max-width: 600px) { .compare-message { flex-direction: row; align-items: center; gap: 8px; background: #f9f9f9; border: 1px solid #ddd; box-shadow: 0 4px 12px rgba(0,0,0,0.15); padding: 12px 16px; border-radius: 8px; white-space: nowrap; font-size: 12px; overflow-x: auto; } .compare-message .compare-button, .compare-message .compare-clear { flex-shrink: 0; font-size: 12px; padding: 6px 10px; }}.compare-bar-count,.compare-bar-message { word-break: normal;}</style><script type="text/javascript">(function(C,A,L){let p=function(a,ar){a.q.push(ar);};let d=C.document;C.Cal=C.Cal||function(){let cal=C.Cal;let ar=arguments;if(!cal.loaded){cal.ns={};cal.q=cal.q||[];d.head.appendChild(d.createElement("script")).src=A;cal.loaded=true;}if(ar[0]===L){const api=function(){p(api,arguments);};const namespace=ar[1];api.q=api.q||[];if(typeof namespace==="string"){cal.ns[namespace]=cal.ns[namespace]||api;p(cal.ns[namespace],ar);p(cal,["initNamespace",namespace]);}else p(cal,ar);return;}p(cal,ar);};})(window,"https://app.cal.com/embed/embed.js","init");</script>
<style>
.show-features-toggle {
  background: transparent;
  color: var(--bb-blue);
  font-weight: 500;
  border: none;
  cursor: pointer;
  text-align: left;
  margin-top: 10px;
  padding: 0;
}
.show-features-toggle:hover {
  text-decoration: underline;
}
.features-overlay {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.97);
  z-index: 10;
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
}
.features-overlay .close-overlay {
  position: absolute;
  top: 12px;
  right: 16px;
  background: transparent;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: #666;
}
.features-overlay ul {
  padding-left: 18px;
  margin: 0;
}
.features-overlay li {
  margin-bottom: 6px;
  font-size: 14px;
  color: #333;
}
</style>
<style>
.compare-table .show-features-toggle,
.compare-table .features-overlay {
  display: none !important;
}
</style>
</head><body><div class="container"><aside><div class="results-count desktop-results-count" id="desktop-results-count">🎁 No Packages Available</div><div class="filter-section"><div class="filter-header" data-filter="package-type"><h3>Package Type</h3><span class="toggle-icon"></span></div><div class="filter-content" id="package-type-filters"><label><input checked="" name="package-type" type="checkbox" value="All"/>All</label><label><input name="package-type" type="checkbox" value="Bundle"/><span class="tag bundled-tag">Bundled</span></label><label><input name="package-type" type="checkbox" value="Individual"/><span class="tag package-type-tag">Individual</span></label></div></div><div class="filter-section"><div class="filter-header" data-filter="package-options"><h3>Package Options</h3><span class="toggle-icon"></span></div><div class="filter-content" id="package-options-filters"><label><input checked="" name="package-options" type="checkbox" value="All"/>All</label><label><input name="package-options" type="checkbox" value="Sale"/><span class="tag sale-tag">On Sale!</span></label><label><input name="package-options" type="checkbox" value="New"/><span class="tag new-tag">New!</span></label></div></div><div class="filter-section"><div class="filter-header" data-filter="event-type"><h3>Event Type</h3><span class="toggle-icon"></span></div><div class="filter-content" id="event-type-filters"><label><input checked="" name="event-type" type="checkbox" value="All"/>All</label></div></div><div class="filter-section"><div class="filter-header" data-filter="equipment"><h3>Services Type</h3><span class="toggle-icon"></span></div><div class="filter-content" id="equipment-filters"><label><input checked="" name="equipment" type="checkbox" value="All"/>All</label><label><input name="equipment" type="checkbox" value="Photo Booth"/><span class="tag equipment-tag-photo-booth">Photo Booth</span></label><label><input name="equipment" type="checkbox" value="360 Video Booth"/><span class="tag equipment-tag-360-video-booth">360 Video Booth</span></label><label><input name="equipment" type="checkbox" value="Audio Guest Book"/><span class="tag equipment-tag-audio-guest-book">Audio Guest Book</span></label><label><input name="equipment" type="checkbox" value="Magazine Booth Box"/><span class="tag equipment-tag-magazine-photo-booth-box">Magazine Booth Box</span></label><label><input name="equipment" type="checkbox" value="Espresso &amp; Coffee Booth"/><span class="tag equipment-tag-espresso-coffee-booth">Espresso &amp; Coffee Booth</span></label><label><input name="equipment" type="checkbox" value="Waffle Booth"/><span class="tag equipment-tag-waffle-booth">Waffle Booth</span></label><label><input name="equipment" type="checkbox" value="Smoothies Booth"/><span class="tag equipment-tag-smoothies-booth">Smoothies Booth</span></label><label><input name="equipment" type="checkbox" value="Sparkler Boxes"/><span class="tag equipment-tag-sparkler-boxes">Sparkler Boxes</span></label><label><input name="equipment" type="checkbox" value="Dry Ice Fog"/><span class="tag equipment-tag-dry-ice-fog">Dry Ice (Fog Effect)</span></label><label><input name="equipment" type="checkbox" value="Laser First Dance"/><span class="tag equipment-tag-laser-effect-first-dance">Laser First Dance</span></label></div></div><div class="mobile-only-filters"><div class="filter-section"><div class="filter-content" id="general-filters"><label for="mobileGuestFilter">Guests</label><select id="mobileGuestFilter"><option value="">Any</option><option value="50">0-50</option><option value="100">51-100</option><option value="150">101-150</option><option value="200">151-200</option><option value="250">201-250</option><option value="300">251-300</option></select><label for="mobileDurationFilter">Duration (hrs)</label><select id="mobileDurationFilter"><option value="">Any</option></select><label for="mobileMinPrice">Price Min (C$)</label><input id="mobileMinPrice" min="0" placeholder="0" type="number"/><label for="mobileMaxPrice">Price Max (C$)</label><input id="mobileMaxPrice" min="0" placeholder="4000" type="number"/><label for="mobileSortBy">Sort By</label><select id="mobileSortBy"><option value="">Select</option><option value="price-desc">Most Expensive</option><option value="price-asc">Least Expensive</option><option value="date-newest">Date: Newest</option><option value="date-oldest">Date: Oldest</option></select></div></div></div><button class="apply-filters-button" id="apply-filters-button">Apply Filters</button></aside><main><div class="filter-results-wrapper"><button class="filter-toggle-icon" id="filter-toggle-icon" title="Toggle Filters"><svg fill="none" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24"><path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z"></path></svg></button><div class="results-count mobile-results-count" id="mobile-results-count">🎁 No Packages Available</div></div><div id="filters-horizontal"><div><label for="guestFilter">Guest Size</label><select id="guestFilter"><option value="">Any</option><option value="50">0-50</option><option value="100">51-100</option><option value="150">101-150</option><option value="200">151-200</option><option value="250">201-250</option><option value="300">251-300</option></select></div><div><label for="durationFilter">Duration (hrs)</label><select id="durationFilter"><option value="">Any</option></select></div><div><label for="minPrice">Price Min (C$)</label><input id="minPrice" min="0" placeholder="0" type="number"/></div><div><label for="maxPrice">Price Max (C$)</label><input id="maxPrice" min="0" placeholder="4000" type="number"/></div><div><label for="sortBy">Sort By</label><select id="sortBy"><option value="">Select</option><option value="price-desc">Most Expensive</option><option value="price-asc">Least Expensive</option><option value="date-newest">Date: Newest</option><option value="date-oldest">Date: Oldest</option></select></div></div><div class="pagination" id="pagination-top"></div><div id="packages-container" tabindex="0">
<div class="package" id="custom-builder-tile" onclick="openCustomBuilder()" style="cursor:pointer;">
<div class="package-content">
<h3>✨ Build Your Own Bundle</h3>
<span class="package-type-tag">Custom</span>
<p class="description">Craft a personalized experience by selecting services tailored to your event.</p>
<p><strong>Guests:</strong> Custom</p>
<p><strong>Duration:</strong> Custom</p>
<p><strong>Price:</strong> Custom Pricing</p>
<button class="book-now-button">Build Bundle</button>
</div>
</div>
</div><div class="pagination" id="pagination-bottom"></div></main><div id="main-content" style="display:none; padding: 20px;">
<h1>Select Your Bundle</h1>
<div class="progress-bar">
<div class="active" id="step-indicator-1">Step 1: Choose Bundle</div>
<div id="step-indicator-2">Step 2: Choose Services</div>
<div id="step-indicator-3">Step 3: Adjust Factors</div>
<div id="step-indicator-4">Step 4: Review &amp; Book</div>
</div>
<div class="step active" id="step-1">
<div id="services-list">Loading bundles...</div>
</div>
<div class="step" id="step-2">
<h2>Select Your Services</h2>
<div id="services-container">Loading services...</div>
<div class="warning" id="warning-message"></div>
<button id="continue-button">Continue to Adjust Factors</button>
</div>
<div class="step" id="step-3">
<h2>Adjust Customization Factors</h2>
<div id="adjustments-container">Loading adjustments...</div>
<button id="review-button">Continue to Review &amp; Book</button>
</div>
<div class="step" id="step-4">
<h2>Review &amp; Book</h2>
<div id="review-section"></div>
</div>
</div></div><div class="modal" id="package-modal"><div class="modal-content"><button class="modal-close" title="Close">×</button><div id="modal-body"></div></div></div><div class="modal" id="compare-modal"><div class="compare-modal-content"><button class="modal-close" title="Close">×</button><div id="compare-modal-body"></div></div></div><script>let bundles=[],selectedForCompare=[],mostRecentIndex=null;const equipmentClassMap={"Photo Booth":"equipment-tag-photo-booth","360 Video Booth":"equipment-tag-360-video-booth","Audio Guest Book":"equipment-tag-audio-guest-book","Magazine Booth Box":"equipment-tag-magazine-photo-booth-box","Espresso & Coffee Booth":"equipment-tag-espresso-coffee-booth","Waffle Booth":"equipment-tag-waffle-booth","Smoothies Booth":"equipment-tag-smoothies-booth","Sparkler Boxes":"equipment-tag-sparkler-boxes","Dry Ice Fog":"equipment-tag-dry-ice-fog","Laser First Dance":"equipment-tag-laser-effect-first-dance"};async function loadPackages(){console.log("Loading packages...");try{const e=await fetch("https://raw.githubusercontent.com/bundlebooth/bdb-1.0/refs/heads/main/packages.json");if(!e.ok){console.warn("Fetch failed, status:",e.status);throw new Error("Fetch failed")}bundles=await e.json();console.log("Fetch successful, packages loaded:",bundles)}catch(t){console.error("Fetch error, using fallback data:",t);bundles=[{name:"Essential Celebration Bundle",maxDuration:6,description:"Bundled with style using our Essential Celebration Bundle. This package includes a Photo Booth for fun snapshots, an Audio Guest Book for heartfelt messages, and Sparkler Boxes for a dazzling touch.",price:1160,guests:150,equipment:["Photo Booth","Audio Guest Book","Sparkler Boxes"],packageType:"Bundle",slug:"essential-celebration",Sale:"Y",New:"N",regPrice:1450,discount:20,note:"Additional charges apply for extended hours or additional services.",eventType:"All"},{name:"Espresso & Coffee Booth Package",maxDuration:10,description:"A premium coffee experience with barista-crafted drinks.",price:400,guests:50,equipment:["Espresso & Coffee Booth"],packageType:"Individual",slug:"espresso-booth",Sale:"N",New:"Y",regPrice:400,discount:0,note:"",eventType:"All"},{name:"Waffle Booth Package",maxDuration:8,description:"Customizable waffles with a variety of toppings.",price:350,guests:100,equipment:["Waffle Booth"],packageType:"Individual",slug:"waffle-booth",Sale:"Y",New:"N",regPrice:400,discount:12.5,note:"",eventType:"All"}]}try{if(!Array.isArray(bundles)||bundles.length===0){throw new Error("Invalid or empty package data")}bundles.forEach(e=>{if(!e.slug||!e.name){console.warn("Invalid package, skipping:",e);return}try{const t=e.slug;Cal("init",t,{origin:"https://cal.com"});Cal.ns[t]("ui",{hideEventTypeDetails:false,layout:"month_view"})}catch(n){console.warn("Cal initialization failed for slug:",e.slug,n)}});const e=document.getElementById("event-type-filters");e.innerHTML="<label><input type=checkbox name=event-type value=All checked>All</label>";const t=[...new Set(bundles.flatMap(e=>Array.isArray(e.eventType)?e.eventType:[e.eventType||"All"]).filter(e=>e&&e!=="All"&&e.trim()))];t.forEach(t=>e.innerHTML+=`<label><input type=checkbox name=event-type value="${t}">${t}</label>`);document.querySelectorAll("#event-type-filters input[type=checkbox]").forEach(e=>e.addEventListener("change",()=>{updateAllCheckbox("event-type",e)}));const n=[document.getElementById("mobileDurationFilter"),document.getElementById("durationFilter")];n.forEach(e=>{if(e){for(let t=1;t<=10;t++){const n=new Option(t,t);e.appendChild(n)}}});filterPackages()}catch(t){console.error("Error processing packages:",t);packagesContainer.innerHTML="<div class=no-results><p>Unable to load packages. Please try again later or <a href='https://bundlebooth.ca/contact' target='_blank' rel='noopener noreferrer'>contact us</a>.</p></div>";updateResultsCount(0)}}const packagesContainer=document.getElementById("packages-container"),paginationTopContainer=document.getElementById("pagination-top"),paginationBottomContainer=document.getElementById("pagination-bottom"),mobileGuestFilter=document.getElementById("mobileGuestFilter"),mobileMinPriceFilter=document.getElementById("mobileMinPrice"),mobileMaxPriceFilter=document.getElementById("mobileMaxPrice"),mobileSortBySelect=document.getElementById("mobileSortBy"),mobileDurationFilter=document.getElementById("mobileDurationFilter"),guestFilter=document.getElementById("guestFilter"),durationFilter=document.getElementById("durationFilter"),minPriceFilter=document.getElementById("minPrice"),maxPriceFilter=document.getElementById("maxPrice"),sortBySelect=document.getElementById("sortBy"),equipmentFilters=document.querySelectorAll("#equipment-filters input[type=checkbox]"),eventTypeFilters=document.querySelectorAll("#event-type-filters input[type=checkbox]"),packageTypeFilters=document.querySelectorAll("#package-type-filters input[type=checkbox]"),packageOptionsFilters=document.querySelectorAll("#package-options-filters input[type=checkbox]"),filterHeaders=document.querySelectorAll(".filter-header"),packageModal=document.getElementById("package-modal"),compareModal=document.getElementById("compare-modal"),modalBody=document.getElementById("modal-body"),compareModalBody=document.getElementById("compare-modal-body"),modalCloseButtons=document.querySelectorAll(".modal-close"),filterToggleIcon=document.getElementById("filter-toggle-icon"),applyFiltersButton=document.getElementById("apply-filters-button"),mobileResultsCount=document.getElementById("mobile-results-count"),desktopResultsCount=document.getElementById("desktop-results-count");const ITEMS_PER_PAGE=9;let currentPage=1,filteredBundles=bundles.slice();function updateResultsCount(e){const t=`🎁 ${e} Package${e!==1?"s":""} Available`;mobileResultsCount.textContent=t;desktopResultsCount.textContent=t}function syncFilters(e){if(e===guestFilter||e===mobileGuestFilter){guestFilter.value=mobileGuestFilter.value=e.value}if(e===durationFilter||e===mobileDurationFilter){durationFilter.value=mobileDurationFilter.value=e.value}if(e===minPriceFilter||e===mobileMinPriceFilter){minPriceFilter.value=mobileMinPriceFilter.value=e.value}if(e===maxPriceFilter||e===mobileMaxPriceFilter){maxPriceFilter.value=mobileMaxPriceFilter.value=e.value}if(e===sortBySelect||e===mobileSortBySelect){sortBySelect.value=mobileSortBySelect.value=e.value}}function handleShareClick(e,t){t.preventDefault();t.stopPropagation();const n=e.slug||`fallback-${e.name.toLowerCase().replace(/\s+/g,"-")}`;const r=t.target.closest(".package");if(!r)return;r.style.opacity="1";r.style.transform="translateY(0)";r.style.animation="none";html2canvas(r,{backgroundColor:"#ffffff",scale:3,removeContainer:false,ignoreElements:el=>el.classList.contains("tooltip")||el.classList.contains("compare-message")}).then(canvas=>{r.style.opacity="";r.style.transform="";r.style.animation="";canvas.toBlob(blob=>{const file=new File([blob],`${n}.jpg`,{type:"image/jpeg"});const shareUrl=`https://cal.com/bundleboothca/${n}`;const i=e.Sale==="Y";const s=e.New==="Y";const a=e.maxDuration?`${e.maxDuration} ${e.maxDuration===1?"hour":"hours"}`:"N/A";const o=e.packageType==="Individual"?"":"Up to ";const l=i&&e.regPrice?`C$${e.price} (reg. C$${e.regPrice}) - ${(((e.regPrice-e.price)/e.regPrice)*100).toFixed(0)}% OFF!`:`C$${e.price}`;const c=`${e.name} ${i?"🎉 ON SALE!":""}${s?" ✨ NEW!":""}\n${e.description}\nGuests: ${e.guests}\nDuration: ${o}${a}\nPrice: ${l}\nServices: ${e.equipment.join(", ")}\nBook: ${shareUrl}`;if(navigator.share){navigator.share({title:e.name,text:c,files:[file],url:shareUrl}).catch(()=>fallbackShare(e,c,file))}else{fallbackShare(e,c,file)}},"image/jpeg",0.95)}).catch(t=>{console.error("Error generating share image:",t);r.style.opacity="";r.style.transform="";r.style.animation="";fallbackShare(e,`${e.name}\n${e.description}\nGuests: ${e.guests}\nDuration: ${e.maxDuration} hours\nPrice: C$${e.price}\nServices: ${e.equipment.join(", ")}\nBook: https://cal.com/bundleboothca/${n}`)})}function fallbackShare(e,t,n=null){const r=window.matchMedia("(max-width: 900px)").matches;const i=`Check out this BundleBooth Package: ${e.name}`;if(r){const e=`sms:?body=${encodeURIComponent(t+(n?`\nImage: ${URL.createObjectURL(n)}`:" "))}`;window.location.href=e}else{const e=`mailto:?subject=${encodeURIComponent(i)}&body=${encodeURIComponent(t+(n?`\nImage: ${URL.createObjectURL(n)}`:" "))}`;window.location.href=e}}function updateCompareMessage(){document.querySelectorAll(".package .compare-message").forEach(e=>{const t=e.querySelector(".compare-bar-count"),n=e.querySelector(".compare-bar-message"),r=e.querySelector(".compare-button");if(t)t.textContent=`${selectedForCompare.length} Package${selectedForCompare.length!==1?"s":""} Selected`;if(n)n.textContent=selectedForCompare.length>=2?"":selectedForCompare.length===1?"Select another package to compare":"Select packages to compare";if(r)r.disabled=selectedForCompare.length<2})}function renderPackages(e,t=1){console.log("Rendering packages:",e);packagesContainer.innerHTML="";updateResultsCount(e.length);if(e.length===0){packagesContainer.innerHTML='<div class=no-results><p>No matching packages found. <br> Try adjusting your filters or <a href="https://bundlebooth.ca/contact" target="_blank" rel="noopener noreferrer">contact us</a> to create a personalized bundle.</p></div>';paginationTopContainer.innerHTML="";paginationBottomContainer.innerHTML="";updateCompareMessage();return}const n=(t-1)*ITEMS_PER_PAGE;const r=n+ITEMS_PER_PAGE;const i=e.slice(n,r);i.forEach((e,t)=>{const r=document.createElement("div");r.className=`package${selectedForCompare.includes(n+t)?" selected":""}${mostRecentIndex===n+t?" most-recent":""}`;r.dataset.index=n+t;const s=e.packageType==="Bundle"?"Bundled":e.packageType;const a=e.packageType==="Bundle"?"bundled-tag":"package-type-tag";const o=e.maxDuration?`${e.maxDuration} ${e.maxDuration===1?"hour":"hours"}`:"N/A";const l=e.packageType==="Individual"?"":"Up to ";const c=e.slug||`fallback-${e.name.toLowerCase().replace(/\s+/g,"-")}`;const u=e.Sale==="Y";const d=e.New==="Y";const p=u?"price sale":"price no-sale";const f=u?`<span class="${p}">C$${e.price}</span><span class="original-price">(Reg. C$${e.regPrice})</span> - <span class="discount">${e.discount}% OFF!</span>`:`<span class="${p}">C$${e.price}</span>`;const m=[];if(u)m.push('<span class="sale-tag">ON SALE!</span>');if(d)m.push('<span class="new-tag">NEW!</span>');r.innerHTML=`<div class=compare-message><svg xmlns="http://www.w3.org/2000/svg" style="width:20px;height:20px;fill:#3498db;margin-right:10px" viewBox="0 0 24 24"><path d="M12 2a10 10 0 100 20 10 10 0 000-20zm0 15a1 1 0 110-2 1 1 0 010 2zm1-4h-2V7h2v6z"/></svg><span class=compare-bar-count>${selectedForCompare.length} Package${selectedForCompare.length!==1?"s":""} Selected</span><span class=compare-bar-message>${selectedForCompare.length>=2?"":selectedForCompare.length===1?"Select another package to compare":"Select packages to compare"}</span><button class=compare-button ${selectedForCompare.length<2?"disabled":""}>Compare</button><button class=compare-clear>Clear</button></div><div class=package-content><h3>${e.name}${m.join("")}</h3><button class=share-button title="Share Package"><svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44-.3-1.96-.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04-.47.09.70L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92z"/></svg><span class=tooltip>Share</span></button><span class="${a}">${s}</span><p class=description>${e.description}</p><p><strong>Guests:</strong> ${e.guests}</p><p><strong>Duration:</strong> ${l}${o}</p><p><strong>Price:</strong> ${f}</p><p><strong>Services Included:</strong></p>
<div class=equipment-tags>
  ${e.equipment.map(e => `<span class="${equipmentClassMap[e] || "equipment-tag-photo-booth"}">${e}</span>`).join("")}
</div>
<button class="show-features-toggle" data-index="${e.slug || e.name.replace(/\s+/g, '-').toLowerCase()}">What’s Included</button>
<div class="features-overlay" id="features-${e.slug || e.name.replace(/\s+/g, '-').toLowerCase()}">
  <button class="close-overlay" title="Close">&times;</button>
  <h4 style="margin-top: 10px;">Features Included</h4>
  <div class="overlay-content"></div>
</div>
</div><p class=package-note>${e.note||""}</p><button class=book-now-button data-cal-link="bundleboothca/${c}" data-cal-namespace="${c}" data-cal-config='{"layout":"month_view"}'>Book Now</button>`;r.addEventListener("click",e=>{if(!e.target.closest(".book-now-button")&&!e.target.closest(".share-button")&&!e.target.closest(".compare-button")&&!e.target.closest(".compare-clear")&&!e.target.closest(".show-features-toggle")&&!e.target.closest(".close-overlay")&&!e.target.closest(".features-overlay")){handlePackageClick(e,n+t,r)}});const g=r.querySelector(".book-now-button");g.addEventListener("click",handleBookNowClick);const h=r.querySelector(".share-button");h.addEventListener("click",t=>handleShareClick(e,t));const v=r.querySelector(".compare-button");v.addEventListener("click",openCompareModal);const y=r.querySelector(".compare-clear");y.addEventListener("click",()=>{selectedForCompare=[];mostRecentIndex=null;updatePackageSelection();updateCompareMessage()});packagesContainer.appendChild(r);
    
    const id = e.slug || e.name.replace(/\s+/g, '-').toLowerCase();
    addFeatureOverlayLogic(r, e, id);
console.log(`Rendered package: ${e.name}`)});updateCompareMessage();renderPagination(e.length,t)}function handlePackageClick(e,t,n){e.stopPropagation();if(selectedForCompare.includes(t)){selectedForCompare=selectedForCompare.filter(e=>e!==t);if(mostRecentIndex===t)mostRecentIndex=selectedForCompare.length>0?selectedForCompare[selectedForCompare.length-1]:null}else{if(selectedForCompare.length<4){selectedForCompare.push(t);mostRecentIndex=t}else{alert("You can compare up to 4 packages at a time.");return}}updatePackageSelection();updateCompareMessage()}function updatePackageSelection(){document.querySelectorAll(".package").forEach(e=>{const t=parseInt(e.dataset.index);e.classList.toggle("selected",selectedForCompare.includes(t));e.classList.toggle("most-recent",t===mostRecentIndex)})}async function openCompareModal(){const e=selectedForCompare.map(e=>filteredBundles[e]);compareModalBody.innerHTML=`<table class=compare-table><tr><th>Package</th>${e.map(e=>`<th style="color:#333;background:#f9f9f9">${e.name}</th>`).join("")}</tr><tr><td>Price</td>${e.map(e=>{const t=e.Sale==="Y";const n=t?"price sale":"price no-sale";const r=t?`<span class="${n}">C$${e.price}</span><br><span class="original-price">(Reg. C$${e.regPrice})</span><br><span class="discount">${e.discount}% OFF!</span>`:`<span class="${n}">C$${e.price}</span>`;return `<td>${r}</td>`}).join("")}</tr><tr><td>Guests</td>${e.map(e=>`<td>${e.guests}</td>`).join("")}</tr><tr><td>Duration</td>${e.map(e=>{const t=e.maxDuration?`${e.maxDuration} ${e.maxDuration===1?"hour":"hours"}`:"N/A";const n=e.packageType==="Individual"?"":"Up to ";return `<td>${n}${t}</td>`}).join("")}</tr><tr><td>Services Included</td>${e.map(e=>`<td>
<div class=equipment-tags>
  ${e.equipment.map(e => `<span class="${equipmentClassMap[e] || "equipment-tag-photo-booth"}">${e}</span>`).join("")}
</div>
<button class="show-features-toggle" data-index="${e.slug || e.name.replace(/\s+/g, '-').toLowerCase()}">What’s Included</button>
<div class="features-overlay" id="features-${e.slug || e.name.replace(/\s+/g, '-').toLowerCase()}">
  <button class="close-overlay" title="Close">&times;</button>
  <h4 style="margin-top: 10px;">Features Included</h4>
  <div class="overlay-content"></div>
</div>
</td>`).join("")}</tr><tr><td>Package Type</td>${e.map(e=>{const t=e.packageType==="Bundle"?"Bundled":e.packageType;const n=e.packageType==="Bundle"?"bundled-tag":"package-type-tag";return `<td><span class="${n}">${t}</span></td>`}).join("")}</tr><tr><td>Description</td>${e.map(e=>`<td>${e.description}</td>`).join("")}</tr><tr><td>Note</td>${e.map(e=>`<td>${e.note||"-"}</td>`).join("")}</tr><tr><td>Action</td>${e.map(e=>{const t=e.slug||`fallback-${e.name.toLowerCase().replace(/\s+/g,"-")}`;return `<td><button class=book-now-button data-cal-link="bundleboothca/${t}" data-cal-namespace="${t}" data-cal-config='{"layout":"month_view"}'>Book Now</button></td>`}).join("")}</tr></table>`;
  // Reattach overlay logic inside compare modal columns
  selectedForCompare.map(i => filteredBundles[i]).forEach(pkg => {
    const id = pkg.slug || pkg.name.replace(/\s+/g, '-').toLowerCase();
    const el = document.getElementById("features-" + id);
    if (el) {
      const container = el.closest("td");
      if (container) addFeatureOverlayLogic(container, pkg, id);
    }
  });
compareModalBody.querySelectorAll(".book-now-button").forEach(e=>e.addEventListener("click",handleBookNowClick));
  // Reattach overlay logic inside compare modal columns
  selectedForCompare.map(i => filteredBundles[i]).forEach(pkg => {
    const id = pkg.slug || pkg.name.replace(/\s+/g, '-').toLowerCase();
    const col = document.getElementById("features-" + id)?.closest("td");
    if (col) addFeatureOverlayLogic(col, pkg, id);
  });compareModal.style.display="flex";setTimeout(()=>{compareModal.classList.add("active")},10)}function handleBookNowClick(e){if(window.matchMedia("(max-width:900px)").matches){const t=e.target.closest(".book-now-button");const n=t.getAttribute("data-cal-link");if(n){window.open(`https://cal.com/${n}`,"_blank");e.preventDefault()}}}function renderPagination(e,t){const n=Math.ceil(e/ITEMS_PER_PAGE);if(n<=1){paginationTopContainer.innerHTML="";paginationBottomContainer.innerHTML="";return}const r=(e,r=false)=>{e.innerHTML="";const i=document.createElement("button");i.innerHTML=`<svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6" stroke="#333" stroke-width="2" stroke-linecap="round"/></svg>`;i.disabled=t===1;i.addEventListener("click",()=>{if(t>1){currentPage--;renderPackages(filteredBundles,currentPage);if(r){packagesContainer.scrollIntoView({behavior:"smooth"})}}});const s=document.createElement("button");s.innerHTML=`<svg viewBox="0 0 24 24"><path d="M9 18l6-6-6-6" stroke="#333" stroke-width="2" stroke-linecap="round"/></svg>`;s.disabled=t===n;s.addEventListener("click",()=>{if(t<n){currentPage++;renderPackages(filteredBundles,currentPage);if(r){packagesContainer.scrollIntoView({behavior:"smooth"})}}});const a=document.createElement("span");a.className="pagination-label";a.textContent=`Page ${t} of ${n}`;e.appendChild(i);e.appendChild(a);e.appendChild(s)};r(paginationTopContainer);r(paginationBottomContainer,true)}function openModal(e,t){const n=e.packageType==="Bundle"?"Bundled":e.packageType;const r=e.packageType==="Bundle"?"bundled-tag":"package-type-tag";const i=e.maxDuration?`${e.maxDuration} ${e.maxDuration===1?"hour":"hours"}`:"N/A";const s=e.packageType==="Individual"?"":"Up to ";const a=e.slug||`fallback-${e.name.toLowerCase().replace(/\s+/g,"-")}`;const o=e.Sale==="Y";const l=e.New==="Y";const c=o?"price sale":"price no-sale";const u=o?`<span class="${c}">C$${e.price}</span> <span class="original-price">(Reg. C$${e.regPrice})</span> - <span class="discount">${e.discount}% OFF!</span>`:`<span class="${c}">C$${e.price}</span>`;const d=[];if(o)d.push(`<span class="sale-tag">ON SALE!</span>`);if(l)d.push(`<span class="new-tag">NEW!</span>`);modalBody.innerHTML=`<h3>${e.name}${d.join("")}</h3><div><span class="${r}">${n}</span></div><p class=description><strong>Description:</strong> ${e.description}</p><p><strong>Guests:</strong> ${e.guests}</p><p><strong>Duration:</strong> ${s}${i}</p><p><strong>Price:</strong> ${u}</p><p><strong>Services Included:</strong></p>
<div class=equipment-tags>
  ${e.equipment.map(e => `<span class="${equipmentClassMap[e] || "equipment-tag-photo-booth"}">${e}</span>`).join("")}
</div>
<button class="show-features-toggle" data-index="${e.slug || e.name.replace(/\s+/g, '-').toLowerCase()}">What’s Included</button>
<div class="features-overlay" id="features-${e.slug || e.name.replace(/\s+/g, '-').toLowerCase()}">
  <button class="close-overlay" title="Close">&times;</button>
  <h4 style="margin-top: 10px;">Features Included</h4>
  <div class="overlay-content"></div>
</div>
<p class=package-note><strong>Note:</strong> ${e.note||""}</p><button class=book-now-button data-cal-link="bundleboothca/${a}" data-cal-namespace="${a}" data-cal-config='{"layout":"month_view"}'>Book Now</button>`;const p=modalBody.querySelector(".book-now-button");p.addEventListener("click",handleBookNowClick);packageModal.style.display="flex";setTimeout(()=>{packageModal.classList.add("active")},10);const f=packageModal.querySelector(".modal-content");const m=t.getBoundingClientRect();const g=window.scrollY||window.pageYOffset;f.style.position="absolute";f.style.top=`${m.top+g-20}px`;f.style.left="50%";f.style.transform="translateX(-50%) scale(1)"}function closeModal(e){e.classList.remove("active");setTimeout(()=>{e.style.display="none";if(e.id==="package-modal"){modalBody.innerHTML="";const t=e.querySelector(".modal-content");t.style.position="";t.style.top="";t.style.left="";t.style.transform=""}else if(e.id==="compare-modal"){compareModalBody.innerHTML=""}},300)}modalCloseButtons.forEach(e=>e.addEventListener("click",()=>{closeModal(e.closest(".modal"))}));function filterPackages(){currentPage=1;let e=bundles.slice();const t=Array.from(packageOptionsFilters).filter(e=>e.checked).map(e=>e.value);if(t.length&&!t.includes("All")){e=e.filter(e=>{const n=e.Sale==="Y";const r=e.New==="Y";return(t.includes("Sale")&&n)||(t.includes("New")&&r)})}const n=Array.from(eventTypeFilters).filter(e=>e.checked).map(e=>e.value);if(n.length&&!n.includes("All")){e=e.filter(e=>{const t=Array.isArray(e.eventType)?e.eventType:[e.eventType||"All"];return n.some(e=>t.includes(e))})}const r=Array.from(packageTypeFilters).filter(e=>e.checked).map(e=>e.value);if(r.length&&!r.includes("All")){e=e.filter(e=>r.includes(e.packageType))}const i=Array.from(equipmentFilters).filter(e=>e.checked).map(e=>e.value);if(i.length&&!i.includes("All")){e=e.filter(e=>i.every(t=>e.equipment.includes(t)))}const s=guestFilter.value||mobileGuestFilter.value;if(s){e=e.filter(e=>e.guests>=parseInt(s))}const a=durationFilter.value||mobileDurationFilter.value;if(a){e=e.filter(e=>e.maxDuration>=parseInt(a))}const o=minPriceFilter.value||mobileMinPriceFilter.value||0;if(o){e=e.filter(e=>e.price>=parseFloat(o))}const l=maxPriceFilter.value||mobileMaxPriceFilter.value||Infinity;if(l){e=e.filter(e=>e.price<=parseFloat(l))}const c=sortBySelect.value||mobileSortBySelect.value;switch(c){case"price-desc":e.sort((e,t)=>t.price-e.price);break;case"price-asc":e.sort((e,t)=>e.price-t.price);break;case"date-newest":e=e.slice().reverse();break;default:}filteredBundles=e;console.log("Filtered packages:",e);renderPackages(filteredBundles,currentPage)}function updateAllCheckbox(e,t){const n=document.querySelector(`#${e}-filters input[value="All"]`),r=Array.from(document.querySelectorAll(`#${e}-filters input[type=checkbox]`)).filter(e=>e.value!=="All");if(t.value==="All"){r.forEach(e=>e.checked=t.checked)}else{if(t.checked){n.checked=false;if(r.every(e=>e.checked))n.checked=true}else{n.checked=false}}filterPackages()}function toggleFilterSection(e){const t=document.getElementById(e),n=document.querySelector(`.filter-header[data-filter="${e.replace("-filters","")}"] .toggle-icon`),r=t.classList.contains("collapsed");t.classList.toggle("collapsed",!r);n.classList.toggle("collapsed",!r)}function setInitialFilterState(){const e=window.matchMedia("(max-width:900px)").matches;filterHeaders.forEach(t=>{const n=t.dataset.filter+"-filters",r=document.getElementById(n),i=t.querySelector(".toggle-icon");if(e){if(n==="general-filters"){r.classList.remove("collapsed");i.classList.remove("collapsed")}else{r.classList.add("collapsed");i.classList.add("collapsed")}}else{r.classList.remove("collapsed");i.classList.remove("collapsed")}})}function toggleFilters(){const e=document.querySelector("aside"),t=e.classList.contains("active");e.classList.toggle("active",!t);document.body.style.overflow=t?"":"hidden"}filterToggleIcon.addEventListener("click",toggleFilters);applyFiltersButton.addEventListener("click",()=>{filterPackages();toggleFilters();window.scrollTo({top:0,behavior:"smooth"})});guestFilter.addEventListener("change",()=>{syncFilters(guestFilter);filterPackages()});durationFilter.addEventListener("change",()=>{syncFilters(durationFilter);filterPackages()});minPriceFilter.addEventListener("input",()=>{syncFilters(minPriceFilter);filterPackages()});maxPriceFilter.addEventListener("input",()=>{syncFilters(maxPriceFilter);filterPackages()});sortBySelect.addEventListener("change",()=>{syncFilters(sortBySelect);filterPackages()});mobileGuestFilter.addEventListener("change",()=>{syncFilters(mobileGuestFilter);filterPackages()});mobileDurationFilter.addEventListener("change",()=>{syncFilters(mobileDurationFilter);filterPackages()});mobileMinPriceFilter.addEventListener("input",()=>{syncFilters(mobileMinPriceFilter);filterPackages()});mobileMaxPriceFilter.addEventListener("input",()=>{syncFilters(mobileMaxPriceFilter);filterPackages()});mobileSortBySelect.addEventListener("change",()=>{syncFilters(mobileSortBySelect);filterPackages()});packageTypeFilters.forEach(e=>e.addEventListener("change",()=>{updateAllCheckbox("package-type",e)}));packageOptionsFilters.forEach(e=>e.addEventListener("change",()=>{updateAllCheckbox("package-options",e)}));equipmentFilters.forEach(e=>e.addEventListener("change",()=>{updateAllCheckbox("equipment",e)}));filterHeaders.forEach(e=>{const t=t=>{t.preventDefault();toggleFilterSection(e.dataset.filter+"-filters")};e.addEventListener("click",t);e.addEventListener("touchstart",t,{passive:true})});document.addEventListener("click",e=>{if(e.target.classList.contains("modal"))closeModal(e.target)});document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, calling loadPackages");setInitialFilterState();loadPackages()})</script><!-- Toast Message --><style> #toast-msg { display: none; position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background-color: #111; color: #fff; padding: 10px 20px; border-radius: 20px; opacity: 0.9; z-index: 1000; font-size: 14px; } </style><div id="toast-msg">Please select at least two packages to compare.</div><script> function showToast(message) { const toast = document.getElementById('toast-msg'); toast.textContent = message; toast.style.display = 'block'; setTimeout(() => { toast.style.display = 'none'; }, 2500); } // Can be used before comparison logic function validateCompareSelection() { const checked = document.querySelectorAll('.compare-checkbox:checked'); if (checked.length < 2) { showToast('Please select at least two packages to compare.'); return false; } return true; } </script><!-- Greeting Popup Message --><style> #greeting-popup { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background-color: #fefefe; color: #333; padding: 16px 24px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1001; font-size: 15px; max-width: 90%; width: auto; min-width: 280px; text-align: left; opacity: 0; transition: opacity 0.5s ease; line-height: 1.6; word-wrap: break-word; } @media (max-width: 600px) { #greeting-popup { max-width: 95%; width: 95%; left: 2.5%; transform: none; } } #greeting-popup.show { opacity: 1; } #greeting-popup .close-btn { position: absolute; top: 6px; right: 10px; background: none; border: none; font-size: 16px; color: #888; cursor: pointer; } .inline-icon { width: 18px; height: 18px; margin-right: 6px; vertical-align: middle; display: inline-block; } .inline-icon svg { width: 100%; height: 100%; } </style><div id="greeting-popup"><button class="close-btn" onclick="document.getElementById('greeting-popup').style.display='none';">×</button> ✨<strong>New Features Update (v2.01)</strong>:<br/> • ⚖️ <strong>Compare Packages</strong> — select 2 or more to view them side by side<br/> • <span class="inline-icon"><svg fill="black" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.18 3.18 0 000-1.39l7.13-4.15A3.004 3.004 0 1014 4a3 3 0 002.88 2.06c.31 0 .62-.05.91-.14l.02.01L9.66 11.2a3 3 0 100 1.6l7.14 4.17c-.3.09-.61.13-.93.13A3 3 0 1018 16.08z"></path></svg></span><strong>Share Button</strong> — send packages via WhatsApp, SMS, or Email (mobile &amp; desktop friendly) </div><script>
// Load external features JSON once
let servicesIncluded = {};
fetch("https://bundlebooth.github.io/bdb-1.0/services-included.json")
  .then(res => res.json())
  .then(data => servicesIncluded = data)
  .catch(err => console.error("Failed to load services-included.json", err));

// Injected inside renderPackages() after card created
function addFeatureOverlayLogic(r, e, idx) {
  const overlayBox = r.querySelector(`#features-${idx}`);
  const overlayContent = overlayBox?.querySelector(".overlay-content");

  if (overlayContent) {
    const items = [];
    if (Array.isArray(e.equipment)) {
      e.equipment.forEach(eq => {
        const matched = servicesIncluded["services-included"]?.find(
          m => m.name.toLowerCase() === eq.toLowerCase()
        );
        if (matched && matched.features?.length > 0) {
          const bullets = matched.features.map(f => `<li>${f}</li>`).join("");
          items.push(`<li><strong>${matched.name}:</strong><ul>${bullets}</ul></li>`);
        }
      });
    }
    if (items.length > 0) {
      overlayContent.innerHTML = `<ul>${items.join("")}</ul>`;
    }
  }

  const toggleBtn = r.querySelector(".show-features-toggle");
  toggleBtn?.addEventListener("click", evt => {
    evt.stopPropagation();
    document.querySelectorAll(".features-overlay").forEach(p => p.style.display = "none");
    overlayBox.style.display = "block";
  });

  const closeBtn = r.querySelector(".close-overlay");
  closeBtn?.addEventListener("click", evt => {
    evt.stopPropagation();
    overlayBox.style.display = "none";
  });
}
</script><script> window.addEventListener('DOMContentLoaded', () => { const popup = document.getElementById('greeting-popup'); popup.classList.add('show'); setTimeout(() => { popup.style.opacity = '0'; }, 10000); }); </script><script>
function openCustomBuilder() {
  const main = document.querySelector('main');
  const builder = document.getElementById('main-content');
  if (main && builder) {
    main.style.display = 'none';
    builder.style.display = 'block';
  }
}
</script><script>
document.addEventListener("DOMContentLoaded", () => {
  const observer = new MutationObserver(() => {
    const container = document.getElementById("packages-container");
    if (!document.getElementById("custom-builder-tile") && container) {
      const tile = document.createElement("div");
      tile.className = "package";
      tile.id = "custom-builder-tile";
      tile.style = "cursor:pointer;";
      tile.onclick = openCustomBuilder;
      tile.innerHTML = `
        <div class="package-content">
          <h3>✨ Build Your Own Bundle</h3>
          <span class="package-type-tag">Custom</span>
          <p class="description">Craft a personalized experience by selecting services tailored to your event.</p>
          <p><strong>Guests:</strong> Custom</p>
          <p><strong>Duration:</strong> Custom</p>
          <p><strong>Price:</strong> Custom Pricing</p>
          <button class="book-now-button">Build Bundle</button>
        </div>
      `;
      container.prepend(tile);
    }
  });

  const target = document.getElementById("packages-container");
  if (target) {
    observer.observe(target, { childList: true });
  }
});
</script>
<script>
let selectedCustomBundle = null;

function loadCustomBundles() {
  const container = document.getElementById("services-list");
  container.innerHTML = "Loading bundles...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/refs/heads/main/bundles.json")
    .then(res => res.json())
    .then(data => {
      container.innerHTML = "";
      data.forEach(bundle => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${bundle.name}</h3>
            <span class="package-type-tag">Custom Bundle</span>
            <p class="description">${bundle.description || ""}</p>
            <p><strong>Guests:</strong> ${bundle.guests || "N/A"}</p>
            <p><strong>Duration:</strong> ${bundle.duration || "N/A"}</p>
            <p><strong>Price:</strong> ${bundle.price ? `C$${bundle.price}` : "Custom Pricing"}</p>
            <button class="book-now-button">Select This Bundle</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          selectedCustomBundle = bundle;
          document.querySelectorAll("#services-list .package").forEach(el => el.classList.remove("selected"));
          card.classList.add("selected");
          document.getElementById("step-indicator-1").classList.remove("active");
          document.getElementById("step-indicator-2").classList.add("active");
          document.getElementById("step-1").classList.remove("active");
          document.getElementById("step-2").classList.add("active");
          loadServices();
        });

        container.appendChild(card);
      });
    })
    .catch(err => {
      console.error("Error loading custom bundles", err);
      container.innerHTML = "<p>Unable to load bundles. Please try again later.</p>";
    });
}

function openCustomBuilder() {
  const main = document.querySelector('main');
  const builder = document.getElementById('main-content');
  if (main && builder) {
    main.style.display = 'none';
    builder.style.display = 'block';
    loadCustomBundles();
  }
}
</script>


<script>
let selectedCustomBundle = null;

function loadCustomBundles() {
  const container = document.getElementById("services-list");
  container.innerHTML = "Loading bundles...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/refs/heads/main/bundles.json")
    .then(res => res.json())
    .then(data => {
      container.innerHTML = "";
      data.forEach(bundle => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${bundle.name}</h3>
            <span class="package-type-tag">Custom Bundle</span>
            <p class="description">${bundle.description || ""}</p>
            <p><strong>Guests:</strong> ${bundle.guests || "N/A"}</p>
            <p><strong>Duration:</strong> ${bundle.duration || "N/A"}</p>
            <p><strong>Price:</strong> ${bundle.price ? `C$${bundle.price}` : "Custom Pricing"}</p>
            <button class="book-now-button">Select This Bundle</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          selectedCustomBundle = bundle;
          document.querySelectorAll("#services-list .package").forEach(el => el.classList.remove("selected"));
          card.classList.add("selected");

          // Proceed to Step 2
          document.getElementById("step-indicator-1").classList.remove("active");
          document.getElementById("step-indicator-2").classList.add("active");
          document.getElementById("step-1").classList.remove("active");
          document.getElementById("step-2").classList.add("active");

          loadServices();
        });

        container.appendChild(card);
      });
    })
    .catch(err => {
      console.error("Error loading custom bundles", err);
      container.innerHTML = "<p>Unable to load bundles. Please try again later.</p>";
    });
}

function loadServices() {
  const container = document.getElementById("services-container");
  container.innerHTML = "Loading services...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/main/individual_packages.json")
    .then(res => res.json())
    .then(data => {
      container.innerHTML = "";
      if (!selectedCustomBundle || !Array.isArray(data)) {
        container.innerHTML = "<p>No bundle selected or data unavailable.</p>";
        return;
      }

      const allowedTypes = selectedCustomBundle.allowedServices || [];

      const filtered = data.filter(service => {
        return allowedTypes.length === 0 || allowedTypes.includes(service.type);
      });

      filtered.forEach(service => {
        const card = document.createElement("div");
        card.className = "package";
        card.innerHTML = `
          <div class="package-content">
            <h3>${service.name}</h3>
            <p class="description">${service.description || ""}</p>
            <p><strong>Price:</strong> C$${service.price || "N/A"}</p>
            <button class="book-now-button">Add Service</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          card.classList.toggle("selected");
        });

        container.appendChild(card);
      });

      if (filtered.length === 0) {
        container.innerHTML = "<p>No services available for this bundle.</p>";
      }
    })
    .catch(err => {
      console.error("Error loading services", err);
      container.innerHTML = "<p>Unable to load services. Please try again later.</p>";
    });
}

function openCustomBuilder() {
  const main = document.querySelector('main');
  const builder = document.getElementById('main-content');
  if (main && builder) {
    main.style.display = 'none';
    builder.style.display = 'block';
    loadCustomBundles();
  }
}
</script>


<script>
let selectedCustomBundle = null;

function loadCustomBundles() {
  const container = document.getElementById("services-list");
  container.innerHTML = "Loading bundles...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/refs/heads/main/bundles.json")
    .then(res => res.json())
    .then(data => {
      container.innerHTML = "";
      data.forEach(bundle => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${bundle.name}</h3>
            <span class="package-type-tag">Custom Bundle</span>
            <p class="description">${bundle.description || ""}</p>
            <p><strong>Guests:</strong> ${bundle.guests || "N/A"}</p>
            <p><strong>Duration:</strong> ${bundle.duration || "N/A"}</p>
            <p><strong>Price:</strong> ${bundle.price ? `C$${bundle.price}` : "Custom Pricing"}</p>
            <button class="book-now-button">Select This Bundle</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          selectedCustomBundle = bundle;
          document.querySelectorAll("#services-list .package").forEach(el => el.classList.remove("selected"));
          card.classList.add("selected");

          // Move to Step 2
          document.getElementById("step-indicator-1").classList.remove("active");
          document.getElementById("step-indicator-2").classList.add("active");
          document.getElementById("step-1").classList.remove("active");
          document.getElementById("step-2").classList.add("active");

          loadServices();
        });

        container.appendChild(card);
      });
    })
    .catch(err => {
      console.error("Error loading custom bundles", err);
      container.innerHTML = "<p>Unable to load bundles. Please try again later.</p>";
    });
}

function loadServices() {
  const container = document.getElementById("services-container");
  container.innerHTML = "Loading services...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/main/individual_packages.json")
    .then(res => res.json())
    .then(data => {
      container.innerHTML = "";

      data.forEach(service => {
        const card = document.createElement("div");
        card.className = "package";
        card.innerHTML = `
          <div class="package-content">
            <h3>${service.name}</h3>
            <p class="description">${service.description || ""}</p>
            <p><strong>Price:</strong> C$${service.price || "N/A"}</p>
            <button class="book-now-button">Add Service</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          card.classList.toggle("selected");
        });

        container.appendChild(card);
      });
    })
    .catch(err => {
      console.error("Error loading services", err);
      container.innerHTML = "<p>Unable to load services. Please try again later.</p>";
    });
}

function openCustomBuilder() {
  const main = document.querySelector('main');
  const builder = document.getElementById('main-content');
  if (main && builder) {
    main.style.display = 'none';
    builder.style.display = 'block';
    loadCustomBundles();
  }
}
</script>


<script>
let selectedCustomBundle = null;
let selectedServices = [];
let allServices = [];

function openCustomBuilder() {
  document.querySelector("main").style.display = "none";
  document.getElementById("main-content").style.display = "block";
  loadCustomBundles();
}

function loadCustomBundles() {
  const container = document.getElementById("services-list");
  container.innerHTML = "";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/refs/heads/main/bundles.json")
    .then(res => res.json())
    .then(data => {
      data.forEach(bundle => {
        const limits = bundle.rules ? Object.entries(bundle.rules).map(([k, v]) => `<li>${v} × ${k}</li>`).join('') : '';
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${bundle.name}</h3>
            <span class="package-type-tag">Custom Bundle</span>
            <p class="description">${bundle.description || ""}</p>
            <ul>${limits}</ul>
            <button class="book-now-button">Select Bundle</button>
          </div>
        `;
        card.querySelector("button").addEventListener("click", () => {
          selectedCustomBundle = bundle;
          selectedServices = [];
          document.querySelectorAll("#services-list .package").forEach(el => el.classList.remove("selected"));
          card.classList.add("selected");
          document.getElementById("step-indicator-1").classList.remove("active");
          document.getElementById("step-indicator-2").classList.add("active");
          document.getElementById("step-1").classList.remove("active");
          document.getElementById("step-2").classList.add("active");
          loadServices();
        });
        container.appendChild(card);
      });
    });
}




function loadServices() {
  const container = document.getElementById("services-container");
  const warning = document.getElementById("warning-message");
  warning.innerHTML = "";
  container.innerHTML = "Loading services...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/main/individual_packages.json", { mode: "cors" })
    .then(res => {
      if (!res.ok) throw new Error("Failed to fetch services: " + res.status);
      return res.json();
    })
    .then(data => {
      const list = Array.isArray(data) ? data : (data.services || []);
      allServices = list;
      container.innerHTML = "";

      list.forEach(service => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${service.name}</h3>
            <span class="package-type-tag">${service.type}</span>
            <p class="description">${service.description || ""}</p>
            <p><strong>Price:</strong> C$${service.price}</p>
            <button class="book-now-button">Add Service</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          const maxAllowed = selectedCustomBundle?.rules?.[service.type] || Infinity;
          const selectedCount = selectedServices.filter(s => s.type === service.type).length;
          const isSelected = selectedServices.find(s => s.name === service.name);

          if (isSelected) {
            selectedServices = selectedServices.filter(s => s.name !== service.name);
            card.classList.remove("selected");
            warning.innerHTML = "";
          } else {
            if (selectedCount >= maxAllowed) {
              warning.innerHTML = `⚠️ You can only select ${maxAllowed} ${service.type}(s) for this bundle.`;
              return;
            }
            selectedServices.push(service);
            card.classList.add("selected");
            warning.innerHTML = "";
          }
        });

        container.appendChild(card);
      });

      if (list.length === 0) {
        container.innerHTML = "<p>No services available.</p>";
      }
    })
    .catch(err => {
      console.error("Service fetch error:", err);
      container.innerHTML = "<p>Error loading services. See console for details.</p>";
    });
}

            selectedServices.push(service);
            card.classList.add("selected");
            warning.innerHTML = "";
          }
        });

        container.appendChild(card);
      });

      if (list.length === 0) {
        container.innerHTML = "<p>No services found in the list.</p>";
      }
    })
    .catch(err => {
      console.error("Services fetch error:", err);
      container.innerHTML = "<p>Error loading services. See console for details.</p>";
    });
}


      allServices = data;
      container.innerHTML = "";

      data.forEach(service => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${service.name}</h3>
            <p>${service.description || ""}</p>
            <p><strong>Type:</strong> ${service.type}</p>
            <p><strong>Price:</strong> C$${service.price}</p>
            <button class="book-now-button">Add</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          const maxAllowed = selectedCustomBundle?.rules?.[service.type] || Infinity;
          const selectedCount = selectedServices.filter(s => s.type === service.type).length;
          const isSelected = selectedServices.find(s => s.name === service.name);

          if (isSelected) {
            selectedServices = selectedServices.filter(s => s.name !== service.name);
            card.classList.remove("selected");
            warning.innerHTML = "";
          } else {
            if (selectedCount >= maxAllowed) {
              warning.innerHTML = `⚠️ Limit reached: ${maxAllowed} ${service.type}(s) allowed.`;
              return;
            }
            selectedServices.push(service);
            card.classList.add("selected");
            warning.innerHTML = "";
          }
        });

        container.appendChild(card);
      });

      if (data.length === 0) {
        container.innerHTML = "<p>No services found in the list.</p>";
      }
    })
    .catch(err => {
      console.error("Services fetch error:", err);
      container.innerHTML = "<p>Error loading services. See console for details.</p>";
    });
}

            selectedServices.push(service);
            card.classList.add("selected");
            warning.innerHTML = "";
          }
        });

        container.appendChild(card);
      });
    });
}

document.getElementById("continue-button").addEventListener("click", () => {
  document.getElementById("step-indicator-2").classList.remove("active");
  document.getElementById("step-indicator-3").classList.add("active");
  document.getElementById("step-2").classList.remove("active");
  document.getElementById("step-3").classList.add("active");

  document.getElementById("adjustments-container").innerHTML = `
    <label>Guest Count: <input id="guest-count" type="number" placeholder="e.g. 150" /></label><br><br>
    <label>Event Notes:<br><textarea id="event-notes" rows="4" style="width:100%"></textarea></label>
  `;
});

document.getElementById("review-button").addEventListener("click", () => {
  document.getElementById("step-indicator-3").classList.remove("active");
  document.getElementById("step-indicator-4").classList.add("active");
  document.getElementById("step-3").classList.remove("active");
  document.getElementById("step-4").classList.add("active");

  const review = document.getElementById("review-section");
  const guestCount = document.getElementById("guest-count")?.value || "N/A";
  const notes = document.getElementById("event-notes")?.value || "None";

  const rows = selectedServices.map(s => `
    <tr><td>${s.name}</td><td>${s.type}</td><td>C$${s.price}</td></tr>
  `).join("");

  const total = selectedServices.reduce((sum, s) => sum + (parseFloat(s.price) || 0), 0);

  review.innerHTML = `
    <h3>Review Your Bundle</h3>
    <table style="width:100%; border-collapse:collapse;">
      <thead><tr><th>Service</th><th>Type</th><th>Price</th></tr></thead>
      <tbody>${rows}</tbody>
    </table>
    <p><strong>Guest Count:</strong> ${guestCount}</p>
    <p><strong>Event Notes:</strong> ${notes}</p>
    <h3>Total: C$${total.toFixed(2)}</h3>
  `;
});
</script>
<style>
.step { display: none; margin-top: 20px; }
.step.active { display: block; }
.package { background: white; border: 1px solid #ccc; border-radius: 12px; padding: 16px; margin-bottom: 16px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); transition: 0.2s; }
.package:hover { box-shadow: 0 6px 12px rgba(0,0,0,0.1); transform: scale(1.01); }
.package.selected { border-color: #3498db; background: #f0f8ff; }
.book-now-button { margin-top: 12px; background: #3498db; color: white; padding: 10px; border: none; border-radius: 6px; cursor: pointer; }
.book-now-button:hover { background: #2c80b4; }
.progress-bar { display: flex; gap: 10px; margin-top: 20px; }
.progress-bar div { flex: 1; padding: 10px; background: #ddd; border-radius: 6px; text-align: center; }
.progress-bar .active { background: #3498db; color: white; font-weight: bold; }
</style>


<script>
function loadServices() {
  const container = document.getElementById("services-container");
  const warning = document.getElementById("warning-message");
  warning.innerHTML = "";
  container.innerHTML = "Loading services...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/main/individual_packages.json", { mode: "cors" })
    .then(res => {
      if (!res.ok) throw new Error("Failed to fetch services: " + res.status);
      return res.json();
    })
    .then(data => {
      const list = Array.isArray(data) ? data : (data.services || []);
      allServices = list;
      container.innerHTML = "";

      list.forEach(service => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${service.name}</h3>
            <span class="package-type-tag">${service.type}</span>
            <p class="description">${service.description || ""}</p>
            <p><strong>Price:</strong> C$${service.price}</p>
            <button class="book-now-button">Add Service</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          const maxAllowed = selectedCustomBundle?.rules?.[service.type] || Infinity;
          const selectedCount = selectedServices.filter(s => s.type === service.type).length;
          const isSelected = selectedServices.find(s => s.name === service.name);

          if (isSelected) {
            selectedServices = selectedServices.filter(s => s.name !== service.name);
            card.classList.remove("selected");
            warning.innerHTML = "";
          } else {
            if (selectedCount >= maxAllowed) {
              warning.innerHTML = `⚠️ You can only select ${maxAllowed} ${service.type}(s).`;
              return;
            }
            selectedServices.push(service);
            card.classList.add("selected");
            warning.innerHTML = "";
          }
        });

        container.appendChild(card);
      });

      if (list.length === 0) {
        container.innerHTML = "<p>No services found in the list.</p>";
      }
    })
    .catch(err => {
      console.error("Services fetch error:", err);
      container.innerHTML = "<p>Error loading services. See console for details.</p>";
    });
}
</script>


<script>
function loadServices() {
  const container = document.getElementById("services-container");
  const warning = document.getElementById("warning-message");
  warning.innerHTML = "";
  container.innerHTML = "Loading services...";

  fetch("https://raw.githubusercontent.com/bundlebooth/bdb-2.0/main/individual_packages.json")
    .then(response => {
      if (!response.ok) throw new Error("Fetch error: " + response.status);
      return response.json();
    })
    .then(allServices => {
      console.log("✅ Fetched services:", allServices);
      container.innerHTML = "";

      allServices.forEach(service => {
        const card = document.createElement("div");
        card.className = "package";
        card.style.cursor = "pointer";
        card.innerHTML = `
          <div class="package-content">
            <h3>${service.name}</h3>
            <span class="package-type-tag">${service.type}</span>
            <p>${service.description || ""}</p>
            <p><strong>Price:</strong> C$${service.price}</p>
            <button class="book-now-button">Add Service</button>
          </div>
        `;

        card.querySelector("button").addEventListener("click", () => {
          const maxAllowed = selectedCustomBundle?.rules?.[service.type] || Infinity;
          const selectedCount = selectedServices.filter(s => s.type === service.type).length;
          const isSelected = selectedServices.find(s => s.name === service.name);

          if (isSelected) {
            selectedServices = selectedServices.filter(s => s.name !== service.name);
            card.classList.remove("selected");
            warning.innerHTML = "";
          } else {
            if (selectedCount >= maxAllowed) {
              warning.innerHTML = `⚠️ You can only select ${maxAllowed} ${service.type}(s).`;
              return;
            }
            selectedServices.push(service);
            card.classList.add("selected");
            warning.innerHTML = "";
          }
        });

        container.appendChild(card);
      });

      if (allServices.length === 0) {
        container.innerHTML = "<p>No services found.</p>";
      }
    })
    .catch(error => {
      console.error("❌ Service fetch failed:", error);
      container.innerHTML = "<p>Error loading services. Check browser console.</p>";
    });
}
</script>

</body></html>
